<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>13 Data visualization for web-based maps | Arctic Data Center Training</title>
  <meta name="description" content="13 Data visualization for web-based maps | Arctic Data Center Training" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="13 Data visualization for web-based maps | Arctic Data Center Training" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="13 Data visualization for web-based maps | Arctic Data Center Training" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="writing-good-data-management-plans.html"/>
<link rel="next" href="social-aspects-of-collaboration-and-data-policies.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.9/datatables.js"></script>
<link href="libs/dt-core-1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.19/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.19/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.2/leaflet.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ADC Training</a></li>
<li><a href="/">‚Üê Back to main website</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Data Science Training for the Arctic Data Center</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i><b>1.1</b> Schedule</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#code-of-conduct"><i class="fa fa-check"></i><b>1.1.1</b> Code of Conduct</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-the-arctic-data-center-and-nsf-standards-and-policies.html"><a href="introduction-to-the-arctic-data-center-and-nsf-standards-and-policies.html"><i class="fa fa-check"></i><b>2</b> Introduction to the Arctic Data Center and NSF Standards and Policies</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-the-arctic-data-center-and-nsf-standards-and-policies.html"><a href="introduction-to-the-arctic-data-center-and-nsf-standards-and-policies.html#learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-the-arctic-data-center-and-nsf-standards-and-policies.html"><a href="introduction-to-the-arctic-data-center-and-nsf-standards-and-policies.html#materials"><i class="fa fa-check"></i><b>2.2</b> Materials</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="best-practices-data-and-metadata.html"><a href="best-practices-data-and-metadata.html"><i class="fa fa-check"></i><b>3</b> Best Practices: Data and Metadata</a><ul>
<li class="chapter" data-level="3.1" data-path="best-practices-data-and-metadata.html"><a href="best-practices-data-and-metadata.html#learning-objectives-1"><i class="fa fa-check"></i><b>3.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="best-practices-data-and-metadata.html"><a href="best-practices-data-and-metadata.html#preserving-computational-workflows"><i class="fa fa-check"></i><b>3.2</b> Preserving computational workflows</a></li>
<li class="chapter" data-level="3.3" data-path="best-practices-data-and-metadata.html"><a href="best-practices-data-and-metadata.html#best-practices-overview"><i class="fa fa-check"></i><b>3.3</b> Best Practices: Overview</a></li>
<li class="chapter" data-level="3.4" data-path="best-practices-data-and-metadata.html"><a href="best-practices-data-and-metadata.html#organizing-data-best-practices"><i class="fa fa-check"></i><b>3.4</b> Organizing Data: Best Practices</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="thinking-preferences.html"><a href="thinking-preferences.html"><i class="fa fa-check"></i><b>4</b> Thinking preferences</a><ul>
<li class="chapter" data-level="4.1" data-path="thinking-preferences.html"><a href="thinking-preferences.html#learning-objectives-2"><i class="fa fa-check"></i><b>4.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="thinking-preferences.html"><a href="thinking-preferences.html#resources"><i class="fa fa-check"></i><b>4.2</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html"><i class="fa fa-check"></i><b>5</b> Data Documentation and Publishing</a><ul>
<li class="chapter" data-level="5.1" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#learning-objectives-3"><i class="fa fa-check"></i><b>5.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#data-sharing-and-preservation"><i class="fa fa-check"></i><b>5.2</b> Data sharing and preservation</a></li>
<li class="chapter" data-level="5.3" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#data-repositories-built-for-data-and-code"><i class="fa fa-check"></i><b>5.3</b> Data repositories: built for data (and code)</a></li>
<li class="chapter" data-level="5.4" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#metadata"><i class="fa fa-check"></i><b>5.4</b> Metadata</a></li>
<li class="chapter" data-level="5.5" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#structure-of-a-data-package"><i class="fa fa-check"></i><b>5.5</b> Structure of a data package</a></li>
<li class="chapter" data-level="5.6" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#dataone-federation"><i class="fa fa-check"></i><b>5.6</b> DataONE Federation</a></li>
<li class="chapter" data-level="5.7" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#publishing-data-from-the-web"><i class="fa fa-check"></i><b>5.7</b> Publishing data from the web</a><ul>
<li class="chapter" data-level="5.7.1" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#download-the-data-to-be-used-for-the-tutorial"><i class="fa fa-check"></i><b>5.7.1</b> Download the data to be used for the tutorial</a></li>
<li class="chapter" data-level="5.7.2" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#login-via-orcid"><i class="fa fa-check"></i><b>5.7.2</b> Login via ORCID</a></li>
<li class="chapter" data-level="5.7.3" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#create-and-submit-the-dataset"><i class="fa fa-check"></i><b>5.7.3</b> Create and submit the dataset</a></li>
<li class="chapter" data-level="5.7.4" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#file-and-variable-level-metadata"><i class="fa fa-check"></i><b>5.7.4</b> File and variable level metadata</a></li>
<li class="chapter" data-level="5.7.5" data-path="data-documentation-and-publishing.html"><a href="data-documentation-and-publishing.html#add-workflow-provenance"><i class="fa fa-check"></i><b>5.7.5</b> Add workflow provenance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html"><i class="fa fa-check"></i><b>6</b> RStudio and Git/GitHub Setup and Motivation</a><ul>
<li class="chapter" data-level="6.1" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#learning-objectives-4"><i class="fa fa-check"></i><b>6.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="6.2" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#reproducible-research"><i class="fa fa-check"></i><b>6.2</b> Reproducible Research</a><ul>
<li class="chapter" data-level="6.2.1" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#what-is-needed-for-computational-reproducibility"><i class="fa fa-check"></i><b>6.2.1</b> What is needed for computational reproducibility?</a></li>
<li class="chapter" data-level="6.2.2" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#conceptualizing-workflows"><i class="fa fa-check"></i><b>6.2.2</b> Conceptualizing workflows</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#why-use-git"><i class="fa fa-check"></i><b>6.3</b> Why use git?</a><ul>
<li class="chapter" data-level="6.3.1" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#the-problem-with-filenames"><i class="fa fa-check"></i><b>6.3.1</b> The problem with filenames</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#checking-the-rstudio-environment"><i class="fa fa-check"></i><b>6.4</b> Checking the RStudio environment</a><ul>
<li class="chapter" data-level="6.4.1" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#r-version"><i class="fa fa-check"></i><b>6.4.1</b> R Version</a></li>
<li class="chapter" data-level="6.4.2" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#rstudio-version"><i class="fa fa-check"></i><b>6.4.2</b> RStudio Version</a></li>
<li class="chapter" data-level="6.4.3" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#package-installation"><i class="fa fa-check"></i><b>6.4.3</b> Package installation</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#setting-up-git"><i class="fa fa-check"></i><b>6.5</b> Setting up git</a><ul>
<li class="chapter" data-level="6.5.1" data-path="rstudio-and-gitgithub-setup-and-motivation.html"><a href="rstudio-and-gitgithub-setup-and-motivation.html#note-for-windows-users"><i class="fa fa-check"></i><b>6.5.1</b> Note for Windows Users</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html"><i class="fa fa-check"></i><b>7</b> Introduction to R and RMarkdown</a><ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#learning-objectives-5"><i class="fa fa-check"></i><b>7.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="7.2" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#introduction-and-motivation"><i class="fa fa-check"></i><b>7.2</b> Introduction and Motivation</a><ul>
<li class="chapter" data-level="7.2.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#resources-1"><i class="fa fa-check"></i><b>7.2.1</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#r-at-the-console"><i class="fa fa-check"></i><b>7.3</b> R at the console</a><ul>
<li class="chapter" data-level="7.3.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#error-messages-are-your-friends"><i class="fa fa-check"></i><b>7.3.1</b> Error messages are your friends</a></li>
<li class="chapter" data-level="7.3.2" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#logical-operators-and-expressions"><i class="fa fa-check"></i><b>7.3.2</b> Logical operators and expressions</a></li>
<li class="chapter" data-level="7.3.3" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#clearing-the-environment"><i class="fa fa-check"></i><b>7.3.3</b> Clearing the environment</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#rmarkdown"><i class="fa fa-check"></i><b>7.4</b> RMarkdown</a><ul>
<li class="chapter" data-level="7.4.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#your-turn"><i class="fa fa-check"></i><b>7.4.1</b> Your Turn</a></li>
<li class="chapter" data-level="7.4.2" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#code-chunks"><i class="fa fa-check"></i><b>7.4.2</b> Code chunks</a></li>
<li class="chapter" data-level="7.4.3" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#your-turn-1"><i class="fa fa-check"></i><b>7.4.3</b> Your turn</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#r-functions-help-pages"><i class="fa fa-check"></i><b>7.5</b> R functions, help pages</a><ul>
<li class="chapter" data-level="7.5.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#a-simple-example"><i class="fa fa-check"></i><b>7.5.1</b> A simple example</a></li>
<li class="chapter" data-level="7.5.2" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#getting-help"><i class="fa fa-check"></i><b>7.5.2</b> Getting help</a></li>
<li class="chapter" data-level="7.5.3" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#your-turn-2"><i class="fa fa-check"></i><b>7.5.3</b> Your turn</a></li>
<li class="chapter" data-level="7.5.4" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#use-a-function-to-read-a-file-into-r"><i class="fa fa-check"></i><b>7.5.4</b> Use a function to read a file into R</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#using-data.frames"><i class="fa fa-check"></i><b>7.6</b> Using <code>data.frames</code></a><ul>
<li class="chapter" data-level="7.6.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#your-turn-3"><i class="fa fa-check"></i><b>7.6.1</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#troubleshooting"><i class="fa fa-check"></i><b>7.7</b> Troubleshooting</a><ul>
<li class="chapter" data-level="7.7.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#my-rmarkdown-wont-knit-to-pdf"><i class="fa fa-check"></i><b>7.7.1</b> My RMarkdown won‚Äôt knit to PDF</a></li>
<li class="chapter" data-level="7.7.2" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#i-just-entered-a-command-and-nothing-is-happening"><i class="fa fa-check"></i><b>7.7.2</b> I just entered a command and nothing is happening</a></li>
<li class="chapter" data-level="7.7.3" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#r-says-my-object-is-not-found"><i class="fa fa-check"></i><b>7.7.3</b> R says my object is not found</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#literate-analysis"><i class="fa fa-check"></i><b>7.8</b> Literate Analysis</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html"><i class="fa fa-check"></i><b>8</b> Version Control With git and GitHub</a><ul>
<li class="chapter" data-level="8.1" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#learning-objectives-6"><i class="fa fa-check"></i><b>8.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="8.2" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#the-problem-with-filenames-1"><i class="fa fa-check"></i><b>8.2</b> The problem with filenames</a></li>
<li class="chapter" data-level="8.3" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#version-control-and-collaboration-using-git-and-github"><i class="fa fa-check"></i><b>8.3</b> Version control and Collaboration using Git and GitHub</a></li>
<li class="chapter" data-level="8.4" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#lets-look-at-a-github-repository"><i class="fa fa-check"></i><b>8.4</b> Let‚Äôs look at a GitHub repository</a></li>
<li class="chapter" data-level="8.5" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#the-git-lifecycle"><i class="fa fa-check"></i><b>8.5</b> The Git lifecycle</a></li>
<li class="chapter" data-level="8.6" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#create-a-remote-repository-on-github"><i class="fa fa-check"></i><b>8.6</b> Create a remote repository on GitHub</a></li>
<li class="chapter" data-level="8.7" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#working-locally-with-git-via-rstudio"><i class="fa fa-check"></i><b>8.7</b> Working locally with Git via RStudio</a></li>
<li class="chapter" data-level="8.8" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#on-good-commit-messages"><i class="fa fa-check"></i><b>8.8</b> On good commit messages</a></li>
<li class="chapter" data-level="8.9" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#collaboration-and-conflict-free-workflows"><i class="fa fa-check"></i><b>8.9</b> Collaboration and conflict free workflows</a></li>
<li class="chapter" data-level="8.10" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#exercise"><i class="fa fa-check"></i><b>8.10</b> Exercise</a></li>
<li class="chapter" data-level="8.11" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#advanced-topics"><i class="fa fa-check"></i><b>8.11</b> Advanced topics</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html"><i class="fa fa-check"></i><b>9</b> Git: Collaboration and Conflict Management</a><ul>
<li class="chapter" data-level="9.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#learning-objectives-7"><i class="fa fa-check"></i><b>9.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#collaborating-with-git"><i class="fa fa-check"></i><b>9.2</b> Collaborating with Git</a><ul>
<li class="chapter" data-level="9.2.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#activity-collaborating-with-a-trusted-colleague"><i class="fa fa-check"></i><b>9.2.1</b> Activity: Collaborating with a trusted colleague</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#merge-conflicts"><i class="fa fa-check"></i><b>9.3</b> Merge conflicts</a></li>
<li class="chapter" data-level="9.4" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#how-to-resolve-a-conflict"><i class="fa fa-check"></i><b>9.4</b> How to resolve a conflict</a><ul>
<li class="chapter" data-level="9.4.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#abort-abort-abort"><i class="fa fa-check"></i><b>9.4.1</b> Abort, abort, abort‚Ä¶</a></li>
<li class="chapter" data-level="9.4.2" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#checkout"><i class="fa fa-check"></i><b>9.4.2</b> Checkout</a></li>
<li class="chapter" data-level="9.4.3" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#pull-and-edit-the-file"><i class="fa fa-check"></i><b>9.4.3</b> Pull and edit the file</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#workflows-to-avoid-merge-conflicts"><i class="fa fa-check"></i><b>9.5</b> Workflows to avoid merge conflicts</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html"><i class="fa fa-check"></i><b>10</b> Data Modeling &amp; Tidy Data</a><ul>
<li class="chapter" data-level="10.1" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#learning-objectives-8"><i class="fa fa-check"></i><b>10.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#benefits-of-relational-data-systems"><i class="fa fa-check"></i><b>10.2</b> Benefits of relational data systems</a></li>
<li class="chapter" data-level="10.3" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#data-organization"><i class="fa fa-check"></i><b>10.3</b> Data Organization</a></li>
<li class="chapter" data-level="10.4" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#multiple-tables"><i class="fa fa-check"></i><b>10.4</b> Multiple tables</a></li>
<li class="chapter" data-level="10.5" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#inconsistent-observations"><i class="fa fa-check"></i><b>10.5</b> Inconsistent observations</a></li>
<li class="chapter" data-level="10.6" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#inconsistent-variables"><i class="fa fa-check"></i><b>10.6</b> Inconsistent variables</a></li>
<li class="chapter" data-level="10.7" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#marginal-sums-and-statistics"><i class="fa fa-check"></i><b>10.7</b> Marginal sums and statistics</a></li>
<li class="chapter" data-level="10.8" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#good-enough-data-modeling"><i class="fa fa-check"></i><b>10.8</b> Good enough data modeling</a><ul>
<li class="chapter" data-level="10.8.1" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#denormalized-data"><i class="fa fa-check"></i><b>10.8.1</b> Denormalized data</a></li>
<li class="chapter" data-level="10.8.2" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#tabular-data"><i class="fa fa-check"></i><b>10.8.2</b> Tabular data</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#primary-and-foreign-keys"><i class="fa fa-check"></i><b>10.9</b> Primary and Foreign Keys</a></li>
<li class="chapter" data-level="10.10" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#entity-relationship-model-er"><i class="fa fa-check"></i><b>10.10</b> Entity-Relationship Model (ER)</a></li>
<li class="chapter" data-level="10.11" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#merging-data"><i class="fa fa-check"></i><b>10.11</b> Merging data</a></li>
<li class="chapter" data-level="10.12" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#simple-guidelines-for-effective-data"><i class="fa fa-check"></i><b>10.12</b> Simple Guidelines for Effective Data</a></li>
<li class="chapter" data-level="10.13" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#data-modeling-exercise"><i class="fa fa-check"></i><b>10.13</b> Data modeling exercise</a></li>
<li class="chapter" data-level="10.14" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#related-resources"><i class="fa fa-check"></i><b>10.14</b> Related resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html"><i class="fa fa-check"></i><b>11</b> Data Cleaning and Manipulation</a><ul>
<li class="chapter" data-level="11.1" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#learning-objectives-9"><i class="fa fa-check"></i><b>11.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="11.2" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#introduction"><i class="fa fa-check"></i><b>11.2</b> Introduction</a></li>
<li class="chapter" data-level="11.3" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#setup"><i class="fa fa-check"></i><b>11.3</b> Setup</a></li>
<li class="chapter" data-level="11.4" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#about-the-pipe-operator"><i class="fa fa-check"></i><b>11.4</b> About the pipe (<code>%&gt;%</code>) operator</a></li>
<li class="chapter" data-level="11.5" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#selectingremoving-columns-select"><i class="fa fa-check"></i><b>11.5</b> Selecting/removing columns: <code>select()</code></a></li>
<li class="chapter" data-level="11.6" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#quality-check"><i class="fa fa-check"></i><b>11.6</b> Quality Check</a></li>
<li class="chapter" data-level="11.7" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#changing-column-content-mutate"><i class="fa fa-check"></i><b>11.7</b> Changing column content: <code>mutate()</code></a></li>
<li class="chapter" data-level="11.8" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#changing-shape-pivot_longer-and-pivot_wider"><i class="fa fa-check"></i><b>11.8</b> Changing shape: <code>pivot_longer()</code> and <code>pivot_wider()</code></a></li>
<li class="chapter" data-level="11.9" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#renaming-columns-with-rename"><i class="fa fa-check"></i><b>11.9</b> Renaming columns with <code>rename()</code></a></li>
<li class="chapter" data-level="11.10" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#adding-columns-mutate"><i class="fa fa-check"></i><b>11.10</b> Adding columns: <code>mutate()</code></a></li>
<li class="chapter" data-level="11.11" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#group_by-and-summarise"><i class="fa fa-check"></i><b>11.11</b> <code>group_by</code> and <code>summarise</code></a></li>
<li class="chapter" data-level="11.12" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#filtering-rows-filter"><i class="fa fa-check"></i><b>11.12</b> Filtering rows: <code>filter()</code></a></li>
<li class="chapter" data-level="11.13" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#sorting-your-data-arrange"><i class="fa fa-check"></i><b>11.13</b> Sorting your data: <code>arrange()</code></a></li>
<li class="chapter" data-level="11.14" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#joins-in-dplyr"><i class="fa fa-check"></i><b>11.14</b> Joins in dplyr</a></li>
<li class="chapter" data-level="11.15" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#separate-and-unite"><i class="fa fa-check"></i><b>11.15</b> <code>separate()</code> and <code>unite()</code></a></li>
<li class="chapter" data-level="11.16" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#summary"><i class="fa fa-check"></i><b>11.16</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html"><i class="fa fa-check"></i><b>12</b> Writing Good Data Management Plans</a><ul>
<li class="chapter" data-level="12.1" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html#learning-objectives-10"><i class="fa fa-check"></i><b>12.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="12.2" data-path="writing-good-data-management-plans.html"><a href="writing-good-data-management-plans.html#materials-1"><i class="fa fa-check"></i><b>12.2</b> Materials</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="data-visualization-for-web-based-maps.html"><a href="data-visualization-for-web-based-maps.html"><i class="fa fa-check"></i><b>13</b> Data visualization for web-based maps</a><ul>
<li class="chapter" data-level="13.1" data-path="data-visualization-for-web-based-maps.html"><a href="data-visualization-for-web-based-maps.html#learning-objectives-11"><i class="fa fa-check"></i><b>13.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="13.2" data-path="data-visualization-for-web-based-maps.html"><a href="data-visualization-for-web-based-maps.html#introduction-1"><i class="fa fa-check"></i><b>13.2</b> Introduction</a></li>
<li class="chapter" data-level="13.3" data-path="data-visualization-for-web-based-maps.html"><a href="data-visualization-for-web-based-maps.html#a-minimal-example"><i class="fa fa-check"></i><b>13.3</b> A Minimal Example</a></li>
<li class="chapter" data-level="13.4" data-path="data-visualization-for-web-based-maps.html"><a href="data-visualization-for-web-based-maps.html#a-less-minimal-example"><i class="fa fa-check"></i><b>13.4</b> A Less Minimal Example</a><ul>
<li class="chapter" data-level="13.4.1" data-path="data-visualization-for-web-based-maps.html"><a href="data-visualization-for-web-based-maps.html#load-salmon-escapement-data"><i class="fa fa-check"></i><b>13.4.1</b> Load salmon escapement data</a></li>
<li class="chapter" data-level="13.4.2" data-path="data-visualization-for-web-based-maps.html"><a href="data-visualization-for-web-based-maps.html#static-plots"><i class="fa fa-check"></i><b>13.4.2</b> Static Plots</a></li>
<li class="chapter" data-level="13.4.3" data-path="data-visualization-for-web-based-maps.html"><a href="data-visualization-for-web-based-maps.html#interactive-maps"><i class="fa fa-check"></i><b>13.4.3</b> Interactive Maps</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="data-visualization-for-web-based-maps.html"><a href="data-visualization-for-web-based-maps.html#static-maps-with-geom_sf"><i class="fa fa-check"></i><b>13.5</b> Static maps with geom_sf</a></li>
<li class="chapter" data-level="13.6" data-path="data-visualization-for-web-based-maps.html"><a href="data-visualization-for-web-based-maps.html#resources-2"><i class="fa fa-check"></i><b>13.6</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="social-aspects-of-collaboration-and-data-policies.html"><a href="social-aspects-of-collaboration-and-data-policies.html"><i class="fa fa-check"></i><b>14</b> Social aspects of collaboration and data policies</a><ul>
<li class="chapter" data-level="14.1" data-path="social-aspects-of-collaboration-and-data-policies.html"><a href="social-aspects-of-collaboration-and-data-policies.html#learning-objectives-12"><i class="fa fa-check"></i><b>14.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="14.2" data-path="social-aspects-of-collaboration-and-data-policies.html"><a href="social-aspects-of-collaboration-and-data-policies.html#resources-3"><i class="fa fa-check"></i><b>14.2</b> Resources</a></li>
<li class="chapter" data-level="14.3" data-path="social-aspects-of-collaboration-and-data-policies.html"><a href="social-aspects-of-collaboration-and-data-policies.html#references"><i class="fa fa-check"></i><b>14.3</b> References</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="creating-r-functions.html"><a href="creating-r-functions.html"><i class="fa fa-check"></i><b>15</b> Creating R Functions</a><ul>
<li class="chapter" data-level="15.1" data-path="creating-r-functions.html"><a href="creating-r-functions.html#leaning-outcomes"><i class="fa fa-check"></i><b>15.1</b> Leaning outcomes</a></li>
<li class="chapter" data-level="15.2" data-path="creating-r-functions.html"><a href="creating-r-functions.html#why-functions"><i class="fa fa-check"></i><b>15.2</b> Why functions?</a></li>
<li class="chapter" data-level="15.3" data-path="creating-r-functions.html"><a href="creating-r-functions.html#temperature-conversion"><i class="fa fa-check"></i><b>15.3</b> Temperature conversion</a></li>
<li class="chapter" data-level="15.4" data-path="creating-r-functions.html"><a href="creating-r-functions.html#creating-a-function"><i class="fa fa-check"></i><b>15.4</b> Creating a function</a></li>
<li class="chapter" data-level="15.5" data-path="creating-r-functions.html"><a href="creating-r-functions.html#exercise-1"><i class="fa fa-check"></i><b>15.5</b> Exercise</a></li>
<li class="chapter" data-level="15.6" data-path="creating-r-functions.html"><a href="creating-r-functions.html#documenting-r-functions"><i class="fa fa-check"></i><b>15.6</b> Documenting R functions</a></li>
<li class="chapter" data-level="15.7" data-path="creating-r-functions.html"><a href="creating-r-functions.html#summary-1"><i class="fa fa-check"></i><b>15.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="creating-r-packages.html"><a href="creating-r-packages.html"><i class="fa fa-check"></i><b>16</b> Creating R Packages</a><ul>
<li class="chapter" data-level="16.1" data-path="creating-r-packages.html"><a href="creating-r-packages.html#learning-objectives-13"><i class="fa fa-check"></i><b>16.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="16.2" data-path="creating-r-packages.html"><a href="creating-r-packages.html#why-packages"><i class="fa fa-check"></i><b>16.2</b> Why packages?</a></li>
<li class="chapter" data-level="16.3" data-path="creating-r-packages.html"><a href="creating-r-packages.html#install-and-load-packages"><i class="fa fa-check"></i><b>16.3</b> Install and load packages</a></li>
<li class="chapter" data-level="16.4" data-path="creating-r-packages.html"><a href="creating-r-packages.html#create-a-basic-package"><i class="fa fa-check"></i><b>16.4</b> Create a basic package</a></li>
<li class="chapter" data-level="16.5" data-path="creating-r-packages.html"><a href="creating-r-packages.html#add-your-code"><i class="fa fa-check"></i><b>16.5</b> Add your code</a></li>
<li class="chapter" data-level="16.6" data-path="creating-r-packages.html"><a href="creating-r-packages.html#add-documentation"><i class="fa fa-check"></i><b>16.6</b> Add documentation</a></li>
<li class="chapter" data-level="16.7" data-path="creating-r-packages.html"><a href="creating-r-packages.html#test-your-package"><i class="fa fa-check"></i><b>16.7</b> Test your package</a></li>
<li class="chapter" data-level="16.8" data-path="creating-r-packages.html"><a href="creating-r-packages.html#checking-and-installing-your-package"><i class="fa fa-check"></i><b>16.8</b> Checking and installing your package</a></li>
<li class="chapter" data-level="16.9" data-path="creating-r-packages.html"><a href="creating-r-packages.html#sharing-and-releasing-your-package"><i class="fa fa-check"></i><b>16.9</b> Sharing and releasing your package</a></li>
<li class="chapter" data-level="16.10" data-path="creating-r-packages.html"><a href="creating-r-packages.html#more-reading"><i class="fa fa-check"></i><b>16.10</b> More reading</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="programming-metadata-and-data-publishing.html"><a href="programming-metadata-and-data-publishing.html"><i class="fa fa-check"></i><b>17</b> Programming Metadata and Data Publishing</a><ul>
<li class="chapter" data-level="17.1" data-path="programming-metadata-and-data-publishing.html"><a href="programming-metadata-and-data-publishing.html#learning-objectives-14"><i class="fa fa-check"></i><b>17.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="17.2" data-path="programming-metadata-and-data-publishing.html"><a href="programming-metadata-and-data-publishing.html#creating-metadata"><i class="fa fa-check"></i><b>17.2</b> Creating Metadata</a><ul>
<li class="chapter" data-level="17.2.1" data-path="programming-metadata-and-data-publishing.html"><a href="programming-metadata-and-data-publishing.html#about-ecological-metadata-language-eml"><i class="fa fa-check"></i><b>17.2.1</b> About Ecological Metadata Language (EML)</a></li>
<li class="chapter" data-level="17.2.2" data-path="programming-metadata-and-data-publishing.html"><a href="programming-metadata-and-data-publishing.html#metadata-in-r-a-simple-example"><i class="fa fa-check"></i><b>17.2.2</b> Metadata in R: a simple example</a></li>
<li class="chapter" data-level="17.2.3" data-path="programming-metadata-and-data-publishing.html"><a href="programming-metadata-and-data-publishing.html#validation-errors"><i class="fa fa-check"></i><b>17.2.3</b> Validation Errors</a></li>
<li class="chapter" data-level="17.2.4" data-path="programming-metadata-and-data-publishing.html"><a href="programming-metadata-and-data-publishing.html#metadata-in-r-a-more-complete-example"><i class="fa fa-check"></i><b>17.2.4</b> Metadata in R: A more complete example</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="programming-metadata-and-data-publishing.html"><a href="programming-metadata-and-data-publishing.html#publish-data-to-the-arctic-data-center-test-site"><i class="fa fa-check"></i><b>17.3</b> Publish data to the Arctic Data Center test site</a><ul>
<li class="chapter" data-level="17.3.1" data-path="programming-metadata-and-data-publishing.html"><a href="programming-metadata-and-data-publishing.html#setup-and-introduction"><i class="fa fa-check"></i><b>17.3.1</b> Setup and Introduction</a></li>
<li class="chapter" data-level="17.3.2" data-path="programming-metadata-and-data-publishing.html"><a href="programming-metadata-and-data-publishing.html#uploading-a-package-using-r-with-uploaddatapackage"><i class="fa fa-check"></i><b>17.3.2</b> Uploading A Package Using R with <code>uploadDataPackage</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html"><i class="fa fa-check"></i><b>18</b> Reproducibility and Provenance</a><ul>
<li class="chapter" data-level="18.1" data-path="reproducibility-and-provenance.html"><a href="reproducibility-and-provenance.html#learning-objectives-15"><i class="fa fa-check"></i><b>18.1</b> Learning Objectives</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i><b>19</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Arctic Data Center Training</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-visualization-for-web-based-maps" class="section level1">
<h1><span class="header-section-number">13</span> Data visualization for web-based maps</h1>
<div id="learning-objectives-11" class="section level2">
<h2><span class="header-section-number">13.1</span> Learning Objectives</h2>
<p>In this lesson, you will learn:</p>
<ul>
<li>How to use RMarkdown to build a web site</li>
<li>A quick overview of producing nice visualizations in R with <code>ggplot</code></li>
<li>How to create interactive maps with <code>leaflet</code></li>
<li>Publishing interactive maps using RMarkdown to make a GitHub web site</li>
</ul>
</div>
<div id="introduction-1" class="section level2">
<h2><span class="header-section-number">13.2</span> Introduction</h2>
<p>Sharing your work with others in engaging ways is an important part of the scientific process.
So far in this course, we‚Äôve introduced a small set of powerful tools for doing open science:</p>
<ul>
<li>R and its many packages</li>
<li>RStudio</li>
<li>git</li>
<li>GitHub</li>
<li>RMarkdown</li>
</ul>
<p>RMarkdown, in particular, is amazingly powerful for creating scientific reports but, so far, we haven‚Äôt tapped its full potential for sharing our work with others.</p>
<p>In this lesson, we‚Äôre going to take an existing GitHub repository and turn it into a beautiful and easy to read web page using the tools listed above.</p>
</div>
<div id="a-minimal-example" class="section level2">
<h2><span class="header-section-number">13.3</span> A Minimal Example</h2>
<ul>
<li>In RStudio, create a new file at the top level of your git repository called <code>index.Rmd</code>. The easiest way to do this is through the RStudio menu. Choose File -&gt; New File -&gt; RMarkdown‚Ä¶ This will bring up a dialog box. You should create a ‚ÄúDocument‚Äù in ‚ÄúHTML‚Äù format. These are the default options.</li>
<li>Open <code>index.Rmd</code> (if it isn‚Äôt already open)</li>
<li>Press Knit
<ul>
<li>Observe the rendered output</li>
<li>Notice the new file in the same directory <code>index.html</code>. This is our RMarkdown file rendered as HTML (a web page)</li>
</ul></li>
<li>Commit your changes (to both index.Rmd and index.html)</li>
<li>Open your web browser to the GitHub.com page for your repository</li>
<li><p>Go to Settings &gt; GitHub Pages and turn on GitHub Pages for the <code>master</code> branch</p>
<p>Now, the rendered website version of your repo will show up at a special URL.</p>
<p>GitHub Pages follows a convention like this:</p>
<pre><code>https://{username}.github.io/{repository}/
https://mbjones.github.io/arctic-training-repo/</code></pre>
<p>Note that it will no longer be at github.com but github.io.</p></li>
<li><p>Go to <a href="https://%7Busername%7D.github.io/%7Brepo_name%7D/" class="uri">https://{username}.github.io/{repo_name}/</a> (Note the trailing <code>/</code>)
Observe the awesome rendered output</p></li>
</ul>
</div>
<div id="a-less-minimal-example" class="section level2">
<h2><span class="header-section-number">13.4</span> A Less Minimal Example</h2>
<p>Now that we‚Äôve seen how to create a web page from RMarkdown, let‚Äôs create a website that uses some of the cool functionality available to us.
We‚Äôll use the same git repository and RStudio Project as above, but we‚Äôll be adding some files to the repository and modifying <code>index.Rmd</code>.</p>
<p>First, let‚Äôs get some data. We‚Äôll re-use the salmon escapement data from the ADF&amp;G OceanAK database:</p>
<ul>
<li>Navigate to <a href="https://doi.org/10.5063/F1S46Q6M">Escapement Counts</a> (or visit the KNB and search for ‚Äòoceanak‚Äô) and copy the Download URL for the <code>ADFG_firstAttempt_reformatted.csv</code> file</li>
<li>Download that file into R using <code>read.csv</code> to make the script portable</li>
<li>Calculate annual escapement by species and region using the <code>dplyr</code> package</li>
<li>Make a bar plot of the annual escapement by species using the <code>ggplot2</code> package</li>
<li>Display it in an interactive table with the <code>datatable</code> function from the <code>DT</code> package</li>
<li>And lastly, let‚Äôs make an interactive, Google Maps-like map of the escapement sampling locations.</li>
</ul>
<p>To do this, we‚Äôll use the <a href="https://rstudio.github.io/leaflet/"><code>leaflet</code></a> package to create an interactive map with markers for all the sampling locations:</p>
<p>First, let‚Äôs load the packages we‚Äôll need:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" data-line-number="1">  <span class="kw">library</span>(leaflet)</a>
<a class="sourceLine" id="cb125-2" data-line-number="2">  <span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb125-3" data-line-number="3">  <span class="kw">library</span>(tidyr)</a>
<a class="sourceLine" id="cb125-4" data-line-number="4">  <span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb125-5" data-line-number="5">  <span class="kw">library</span>(DT)</a>
<a class="sourceLine" id="cb125-6" data-line-number="6">  <span class="kw">library</span>(sf)</a>
<a class="sourceLine" id="cb125-7" data-line-number="7">  <span class="kw">library</span>(ggmap) <span class="co"># devtools::install_github(&quot;dkahle/ggmap&quot;)</span></a></code></pre></div>
<div id="load-salmon-escapement-data" class="section level3">
<h3><span class="header-section-number">13.4.1</span> Load salmon escapement data</h3>
<p>You can load the data table directly from the KNB Data Repository, if it isn‚Äôt
already present on your local computer. This technique only downloads the file if you need it.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1">data_url &lt;-<span class="st"> &quot;https://knb.ecoinformatics.org/knb/d1/mn/v2/object/urn%3Auuid%3Af119a05b-bbe7-4aea-93c6-85434dcb1c5e&quot;</span></a>
<a class="sourceLine" id="cb126-2" data-line-number="2"></a>
<a class="sourceLine" id="cb126-3" data-line-number="3">esc &lt;-<span class="st"> </span><span class="kw">tryCatch</span>(</a>
<a class="sourceLine" id="cb126-4" data-line-number="4">    <span class="kw">read.csv</span>(<span class="st">&quot;data/escapement.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>),</a>
<a class="sourceLine" id="cb126-5" data-line-number="5">    <span class="dt">error=</span><span class="cf">function</span>(cond) {</a>
<a class="sourceLine" id="cb126-6" data-line-number="6">        <span class="kw">message</span>(<span class="kw">paste</span>(<span class="st">&quot;Escapement file does not seem to exist, so get it from the KNB.&quot;</span>))</a>
<a class="sourceLine" id="cb126-7" data-line-number="7">        esc &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="kw">url</span>(data_url, <span class="dt">method =</span> <span class="st">&quot;libcurl&quot;</span>), <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb126-8" data-line-number="8">        <span class="kw">return</span>(esc)</a>
<a class="sourceLine" id="cb126-9" data-line-number="9">    }</a>
<a class="sourceLine" id="cb126-10" data-line-number="10">)</a>
<a class="sourceLine" id="cb126-11" data-line-number="11"></a>
<a class="sourceLine" id="cb126-12" data-line-number="12"><span class="kw">head</span>(esc)</a></code></pre></div>
<pre><code>##        Location SASAP.Region sampleDate Species DailyCount  Method
## 1 Akalura Creek       Kodiak 1930-05-24 Sockeye          4 Unknown
## 2 Akalura Creek       Kodiak 1930-05-25 Sockeye         10 Unknown
## 3 Akalura Creek       Kodiak 1930-05-26 Sockeye          0 Unknown
## 4 Akalura Creek       Kodiak 1930-05-27 Sockeye          0 Unknown
## 5 Akalura Creek       Kodiak 1930-05-28 Sockeye          0 Unknown
## 6 Akalura Creek       Kodiak 1930-05-29 Sockeye          0 Unknown
##   Latitude Longitude Source
## 1  57.1641 -154.2287   ADFG
## 2  57.1641 -154.2287   ADFG
## 3  57.1641 -154.2287   ADFG
## 4  57.1641 -154.2287   ADFG
## 5  57.1641 -154.2287   ADFG
## 6  57.1641 -154.2287   ADFG</code></pre>
</div>
<div id="static-plots" class="section level3">
<h3><span class="header-section-number">13.4.2</span> Static Plots</h3>
<p>Now that we have the data loaded, let‚Äôs calculate annual escapement by species and region:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1">annual_esc &lt;-<span class="st"> </span>esc <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb128-2" data-line-number="2"><span class="st">  </span><span class="kw">separate</span>(sampleDate, <span class="kw">c</span>(<span class="st">&quot;Year&quot;</span>, <span class="st">&quot;Month&quot;</span>, <span class="st">&quot;Day&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot;-&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb128-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Year =</span> <span class="kw">as.numeric</span>(Year)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb128-4" data-line-number="4"><span class="st">  </span><span class="kw">group_by</span>(Species, SASAP.Region, Year) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb128-5" data-line-number="5"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">escapement =</span> <span class="kw">sum</span>(DailyCount)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb128-6" data-line-number="6"><span class="st">  </span><span class="kw">filter</span>(Species <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Chinook&quot;</span>, <span class="st">&quot;Sockeye&quot;</span>, <span class="st">&quot;Chum&quot;</span>, <span class="st">&quot;Coho&quot;</span>, <span class="st">&quot;Pink&quot;</span>))</a>
<a class="sourceLine" id="cb128-7" data-line-number="7"></a>
<a class="sourceLine" id="cb128-8" data-line-number="8"><span class="kw">head</span>(annual_esc)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 4
## # Groups:   Species, SASAP.Region [1]
##   Species SASAP.Region                           Year escapement
##   &lt;chr&gt;   &lt;chr&gt;                                 &lt;dbl&gt;      &lt;int&gt;
## 1 Chinook Alaska Peninsula and Aleutian Islands  1974       1092
## 2 Chinook Alaska Peninsula and Aleutian Islands  1975       1917
## 3 Chinook Alaska Peninsula and Aleutian Islands  1976       3045
## 4 Chinook Alaska Peninsula and Aleutian Islands  1977       4844
## 5 Chinook Alaska Peninsula and Aleutian Islands  1978       3901
## 6 Chinook Alaska Peninsula and Aleutian Islands  1979      10463</code></pre>
<p>That command used a lot of the dplyr commands that we‚Äôve used, and some that are new.
The <code>separate</code> function is used to divide the sampleDate column up into Year, Month, and Day columns,
and then we use <code>group_by</code> to indicate that we want to calculate our results for
the unique combinations of species, region, and year. We next use <code>summarize</code>
to calculate an escapement value for each of these groups. Finally, we use a filter and the <code>%in%</code> operator to select only the salmon species.</p>
<p>Now, let‚Äôs plot our results using <code>ggplot</code>. <code>ggplot</code> uses a mapping <em>aesthetic</em> (set using <code>aes()</code>) and a <em>geometry</em> to create your plot. Additional geometries/aesthetics and theme elements can be added to a <code>ggplot</code> object using <code>+</code>.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1"><span class="kw">ggplot</span>(annual_esc, <span class="kw">aes</span>(<span class="dt">x =</span> Species, <span class="dt">y =</span> escapement)) <span class="op">+</span></a>
<a class="sourceLine" id="cb130-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_col</span>()</a></code></pre></div>
<p><img src="arctic-data-center-training_files/figure-html/plot_esc-1.png" width="672" /></p>
<p>What if we want our bars to be blue instad of gray? You might think we could run this:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb131-1" data-line-number="1"><span class="kw">ggplot</span>(annual_esc, <span class="kw">aes</span>(<span class="dt">x =</span> Species, <span class="dt">y =</span> escapement, <span class="dt">fill =</span> <span class="st">&quot;blue&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb131-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_col</span>()</a></code></pre></div>
<p><img src="arctic-data-center-training_files/figure-html/unnamed-chunk-67-1.png" width="672" /></p>
<p>Why did that happen?</p>
<p>Notice that we tried to set the fill color of the plot inside the mapping aesthetic call. What we have done, behind the scenes, is create a column filled with the word ‚Äúblue‚Äù in our dataframe, and then mapped it to the <code>fill</code> aesthetic, which then chose the default fill color of red.</p>
<p>What we really wanted to do was just change the color of the bars. If we want do do that, we can call the color option in the <code>geom_bar</code> function, <strong>outside</strong> of the mapping aesthetics function call.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" data-line-number="1"><span class="kw">ggplot</span>(annual_esc, <span class="kw">aes</span>(<span class="dt">x =</span> Species, <span class="dt">y =</span> escapement)) <span class="op">+</span></a>
<a class="sourceLine" id="cb132-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">fill =</span> <span class="st">&quot;blue&quot;</span>)</a></code></pre></div>
<p><img src="arctic-data-center-training_files/figure-html/unnamed-chunk-68-1.png" width="672" /></p>
<p>What if we did want to map the color of the bars to a variable, such as region.</p>
<p><code>ggplot</code> is really powerful because we can easily get this plot to visualize more aspects of our data.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb133-1" data-line-number="1"><span class="kw">ggplot</span>(annual_esc, <span class="kw">aes</span>(<span class="dt">x =</span> Species, <span class="dt">y =</span> escapement, <span class="dt">fill =</span> SASAP.Region)) <span class="op">+</span></a>
<a class="sourceLine" id="cb133-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_col</span>()</a></code></pre></div>
<p><img src="arctic-data-center-training_files/figure-html/unnamed-chunk-69-1.png" width="672" /></p>
<p>Here is an example of a different aesthetic and geometry mapping we can create with this data. You can also add a title, adjust labels, and include a built in theme.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="kw">filter</span>(annual_esc, SASAP.Region <span class="op">==</span><span class="st"> &quot;Kodiak&quot;</span>), <span class="kw">aes</span>(<span class="dt">x =</span> Year, <span class="dt">y =</span> escapement, <span class="dt">color =</span> Species)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb134-2" data-line-number="2"><span class="st">    </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb134-3" data-line-number="3"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb134-4" data-line-number="4"><span class="st">    </span><span class="kw">ylab</span>(<span class="st">&quot;Escapement&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb134-5" data-line-number="5"><span class="st">    </span><span class="kw">ggtitle</span>(<span class="st">&quot;Kodiak Salmon Escapement&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb134-6" data-line-number="6"><span class="st">    </span><span class="kw">theme_bw</span>()</a></code></pre></div>
<p><img src="arctic-data-center-training_files/figure-html/unnamed-chunk-70-1.png" width="672" /></p>
<p>Note how I added a filter call in my <code>ggplot</code> function call to only plot data from Kodiak. You can easily create plots like this for every region using <code>facet_wrap</code></p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb135-1" data-line-number="1"><span class="kw">ggplot</span>(annual_esc, <span class="kw">aes</span>(<span class="dt">x =</span> Year, <span class="dt">y =</span> escapement, <span class="dt">color =</span> Species)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb135-2" data-line-number="2"><span class="st">    </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb135-3" data-line-number="3"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb135-4" data-line-number="4"><span class="st">    </span><span class="kw">facet_wrap</span>(<span class="op">~</span>SASAP.Region, <span class="dt">scales =</span> <span class="st">&quot;free_y&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb135-5" data-line-number="5"><span class="st">    </span><span class="kw">ylab</span>(<span class="st">&quot;Escapement&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb135-6" data-line-number="6"><span class="st">    </span><span class="kw">theme_bw</span>()</a></code></pre></div>
<p><img src="arctic-data-center-training_files/figure-html/unnamed-chunk-71-1.png" width="672" /></p>
</div>
<div id="interactive-maps" class="section level3">
<h3><span class="header-section-number">13.4.3</span> Interactive Maps</h3>
<p>Now let‚Äôs convert the escapement data into a table of just the unique locations:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" data-line-number="1">locations &lt;-<span class="st"> </span>esc <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb136-2" data-line-number="2"><span class="st">  </span><span class="kw">distinct</span>(Location, Latitude, Longitude) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb136-3" data-line-number="3"><span class="st">  </span><span class="kw">drop_na</span>()</a></code></pre></div>
<p>And display it as an interactive table:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb137-1" data-line-number="1"><span class="kw">datatable</span>(locations)</a></code></pre></div>
<div id="htmlwidget-9f1ad77686e7d2f8e718" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-9f1ad77686e7d2f8e718">{"x":{"filter":"none","data":[["1","4","6","7","8","9","10","12","13","14","15","18","20","23","27","29","30","35","36","37","38","43","45","46","50","57","58","60","62","70","74","76","77","78","79","80","84","85","87","88","89","91","92","97","99","101","102","103","104","106","109","111","116","118","119","122","129","130","133","134","136","137","138","139","140","141","142","147"],["Akalura Creek","Anvik River","Ayakulik River","Bear Creek","Bear River","Big Bay Creek","Big Kitoi Creek","Black Lake","Buskin River","Chelatna Lake","Chignik River","Coghill River","Crescent River","Dog Salmon Creek","Eagle Sonar (Yukon/Canadian Border)","Egegik River","Eshamy River","Frazer Lake","Frosty Creek","George River","Goodnews River (Middle Fork)","Horse Marine Stream","Igushik River","Ilnik River","Judd Lake","Kanektok River","Karluk","Kasilof River","Kenai River","Kogrukluk River","Kvichak River","Lake Louise","Larson Lake","Litnik","Little Kitoi","Little River","Little Waterfall","Malina Creek","McLees","Middle Lagoon","Miles Lake","Morris Cove","Mortensens Creek","Naknek River","Nelson River","Nushagak River","Orzinski River","Pasagshak River","Pauls Bay","Pilot Station Sonar","Portage","Red Lake","Salmon River (Aniak)","Saltery Creek","Sandy River","Seal Bay Creek","Sturgeon River","Summer Bay","Takotna River","Tatlawiksuk River","Telaquana River","Thin Point Cove","Thorsheim","Togiak River","Uganik River","Ugashik River","Upper Station","Wood River"],[57.1641,62.7,57.1956,56.0389,56.0389,58.5426,58.1915,56.392,57.7768,62.4731,56.2623,61.0726,60.2252,57.1289,64.8,58.2461,60.4528,57.2027,55.1944,61.9,59.1,57.112,58.7132,55.8141,61.5706,59.8,57.563,60.3865,60.548,60.8,58.7969,57.7605,62.3387,58.0815,58.1963,57.7784,58.3955,58.173,54.0002,55.0827,60.6798,53.9167,55.1469,58.7173,55.8141,58.8677,55.731,57.4734,58.3898,62,56.2896,57.2648,61.1,57.5263,56.2163,58.3388,57.3388,53.8963,63,61.9,61.1,55.0109,58.2765,59.0722,57.6696,57.4881,57.0581,59.0523],[-154.2287,-160.2,-154.529,-160.2734,-160.2734,-152.5683,-152.3754,-158.937,-152.5372,-151.4545,-158.7054,-147.9109,-152.5585,-154.0287,-141,-157.6254,-148.1,-154.0573,-162.8535,-157.7,-161.5,-153.95,-158.8739,-161.2349,-151.5575,-161.9,-154.3843,-151.3001,-151.2642,-157.8,-157.0993,-152.5055,-149.892,-152.8286,-152.3681,-153.6666,-152.5058,-153.2158,-166.7281,-163.2164,-144.6684,-166.463,-162.6372,-157.053,-161.2349,-158.605,-160.0934,-152.4627,-152.3405,-162.9,-152.4284,-154.3573,-159.2,-152.7619,-160.055,-152.2238,-154.6931,-166.4596,-155.6,-156.2,-154.4,-162.6734,-152.8367,-160.3363,-153.3737,-157.5958,-154.3569,-158.4141]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Location<\/th>\n      <th>Latitude<\/th>\n      <th>Longitude<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>Then making a leaflet map is (generally) only a couple of lines of code:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb138-1" data-line-number="1"><span class="kw">leaflet</span>(locations) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb138-2" data-line-number="2"><span class="st">  </span><span class="kw">addTiles</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb138-3" data-line-number="3"><span class="st">  </span><span class="kw">addMarkers</span>(<span class="op">~</span><span class="st"> </span>Longitude, <span class="op">~</span><span class="st"> </span>Latitude, <span class="dt">popup =</span> <span class="op">~</span><span class="st"> </span>Location)</a></code></pre></div>
<div id="htmlwidget-8df29d4136e7256047bc" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-8df29d4136e7256047bc">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[57.1641,62.7,57.1956,56.0389,56.0389,58.5426,58.1915,56.392,57.7768,62.4731,56.2623,61.0726,60.2252,57.1289,64.8,58.2461,60.4528,57.2027,55.1944,61.9,59.1,57.112,58.7132,55.8141,61.5706,59.8,57.563,60.3865,60.548,60.8,58.7969,57.7605,62.3387,58.0815,58.1963,57.7784,58.3955,58.173,54.0002,55.0827,60.6798,53.9167,55.1469,58.7173,55.8141,58.8677,55.731,57.4734,58.3898,62,56.2896,57.2648,61.1,57.5263,56.2163,58.3388,57.3388,53.8963,63,61.9,61.1,55.0109,58.2765,59.0722,57.6696,57.4881,57.0581,59.0523],[-154.2287,-160.2,-154.529,-160.2734,-160.2734,-152.5683,-152.3754,-158.937,-152.5372,-151.4545,-158.7054,-147.9109,-152.5585,-154.0287,-141,-157.6254,-148.1,-154.0573,-162.8535,-157.7,-161.5,-153.95,-158.8739,-161.2349,-151.5575,-161.9,-154.3843,-151.3001,-151.2642,-157.8,-157.0993,-152.5055,-149.892,-152.8286,-152.3681,-153.6666,-152.5058,-153.2158,-166.7281,-163.2164,-144.6684,-166.463,-162.6372,-157.053,-161.2349,-158.605,-160.0934,-152.4627,-152.3405,-162.9,-152.4284,-154.3573,-159.2,-152.7619,-160.055,-152.2238,-154.6931,-166.4596,-155.6,-156.2,-154.4,-162.6734,-152.8367,-160.3363,-153.3737,-157.5958,-154.3569,-158.4141],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Akalura Creek","Anvik River","Ayakulik River","Bear Creek","Bear River","Big Bay Creek","Big Kitoi Creek","Black Lake","Buskin River","Chelatna Lake","Chignik River","Coghill River","Crescent River","Dog Salmon Creek","Eagle Sonar (Yukon/Canadian Border)","Egegik River","Eshamy River","Frazer Lake","Frosty Creek","George River","Goodnews River (Middle Fork)","Horse Marine Stream","Igushik River","Ilnik River","Judd Lake","Kanektok River","Karluk","Kasilof River","Kenai River","Kogrukluk River","Kvichak River","Lake Louise","Larson Lake","Litnik","Little Kitoi","Little River","Little Waterfall","Malina Creek","McLees","Middle Lagoon","Miles Lake","Morris Cove","Mortensens Creek","Naknek River","Nelson River","Nushagak River","Orzinski River","Pasagshak River","Pauls Bay","Pilot Station Sonar","Portage","Red Lake","Salmon River (Aniak)","Saltery Creek","Sandy River","Seal Bay Creek","Sturgeon River","Summer Bay","Takotna River","Tatlawiksuk River","Telaquana River","Thin Point Cove","Thorsheim","Togiak River","Uganik River","Ugashik River","Upper Station","Wood River"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[53.8963,64.8],"lng":[-166.7281,-141]}},"evals":[],"jsHooks":[]}</script>
<p>The <code>addTiles()</code> function gets a base layer of tiles from <a href="https://www.openstreetmap.org/">OpenStreetMap</a> which is an open alternative to Google Maps.
<code>addMarkers</code> use a bit of an odd syntax in that it looks kind of like <code>ggplot2</code> code but uses <code>~</code> before the column names.
This is similar to how the <code>lm</code> function (and others) work but you‚Äôll have to make sure you type the <code>~</code> for your map to work.</p>
<p>You can also use <code>leaflet</code> to import Web Map Service (WMS) tiles. Here is an example that utilizes the General Bathymetric Map of the Oceans <a href="https://www.gebco.net/data_and_products/gebco_web_services/web_map_service/#getcapabilities">(GEBCO)</a> WMS tiles. In this example, we also demonstrate how to create a more simple circle marker.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb139-1" data-line-number="1"><span class="kw">leaflet</span>(locations) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb139-2" data-line-number="2"><span class="st">  </span><span class="kw">addWMSTiles</span>(<span class="st">&quot;https://www.gebco.net/data_and_products/gebco_web_services/web_map_service/mapserv?&quot;</span>,</a>
<a class="sourceLine" id="cb139-3" data-line-number="3">              <span class="dt">layers =</span> <span class="st">&#39;GEBCO_LATEST&#39;</span>,</a>
<a class="sourceLine" id="cb139-4" data-line-number="4">              <span class="dt">attribution =</span> <span class="st">&quot;Imagery reproduced from the GEBCO_2014 Grid, version 20150318, www.gebco.net&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb139-5" data-line-number="5"><span class="st">  </span><span class="kw">addCircleMarkers</span>(<span class="dt">lng =</span> <span class="op">~</span>Longitude,</a>
<a class="sourceLine" id="cb139-6" data-line-number="6">                   <span class="dt">lat =</span> <span class="op">~</span>Latitude,</a>
<a class="sourceLine" id="cb139-7" data-line-number="7">                   <span class="dt">popup =</span> <span class="op">~</span><span class="st"> </span>Location,</a>
<a class="sourceLine" id="cb139-8" data-line-number="8">                   <span class="dt">radius =</span> <span class="dv">5</span>,</a>
<a class="sourceLine" id="cb139-9" data-line-number="9">                   <span class="co"># set fill properties</span></a>
<a class="sourceLine" id="cb139-10" data-line-number="10">                   <span class="dt">fillColor =</span> <span class="st">&quot;salmon&quot;</span>,</a>
<a class="sourceLine" id="cb139-11" data-line-number="11">                   <span class="dt">fillOpacity =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb139-12" data-line-number="12">                   <span class="co"># set stroke properties</span></a>
<a class="sourceLine" id="cb139-13" data-line-number="13">                   <span class="dt">stroke =</span> T,</a>
<a class="sourceLine" id="cb139-14" data-line-number="14">                   <span class="dt">weight =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb139-15" data-line-number="15">                   <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>,</a>
<a class="sourceLine" id="cb139-16" data-line-number="16">                   <span class="dt">opacity =</span> <span class="dv">1</span>)</a></code></pre></div>
<div id="htmlwidget-c4caaa4d317700e7195f" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-c4caaa4d317700e7195f">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addWMSTiles","args":["https://www.gebco.net/data_and_products/gebco_web_services/web_map_service/mapserv?",null,null,{"styles":"","format":"image/jpeg","transparent":false,"version":"1.1.1","attribution":"Imagery reproduced from the GEBCO_2014 Grid, version 20150318, www.gebco.net","layers":"GEBCO_LATEST"}]},{"method":"addCircleMarkers","args":[[57.1641,62.7,57.1956,56.0389,56.0389,58.5426,58.1915,56.392,57.7768,62.4731,56.2623,61.0726,60.2252,57.1289,64.8,58.2461,60.4528,57.2027,55.1944,61.9,59.1,57.112,58.7132,55.8141,61.5706,59.8,57.563,60.3865,60.548,60.8,58.7969,57.7605,62.3387,58.0815,58.1963,57.7784,58.3955,58.173,54.0002,55.0827,60.6798,53.9167,55.1469,58.7173,55.8141,58.8677,55.731,57.4734,58.3898,62,56.2896,57.2648,61.1,57.5263,56.2163,58.3388,57.3388,53.8963,63,61.9,61.1,55.0109,58.2765,59.0722,57.6696,57.4881,57.0581,59.0523],[-154.2287,-160.2,-154.529,-160.2734,-160.2734,-152.5683,-152.3754,-158.937,-152.5372,-151.4545,-158.7054,-147.9109,-152.5585,-154.0287,-141,-157.6254,-148.1,-154.0573,-162.8535,-157.7,-161.5,-153.95,-158.8739,-161.2349,-151.5575,-161.9,-154.3843,-151.3001,-151.2642,-157.8,-157.0993,-152.5055,-149.892,-152.8286,-152.3681,-153.6666,-152.5058,-153.2158,-166.7281,-163.2164,-144.6684,-166.463,-162.6372,-157.053,-161.2349,-158.605,-160.0934,-152.4627,-152.3405,-162.9,-152.4284,-154.3573,-159.2,-152.7619,-160.055,-152.2238,-154.6931,-166.4596,-155.6,-156.2,-154.4,-162.6734,-152.8367,-160.3363,-153.3737,-157.5958,-154.3569,-158.4141],5,null,null,{"interactive":true,"className":"","stroke":true,"color":"white","weight":0.5,"opacity":1,"fill":true,"fillColor":"salmon","fillOpacity":1},null,null,["Akalura Creek","Anvik River","Ayakulik River","Bear Creek","Bear River","Big Bay Creek","Big Kitoi Creek","Black Lake","Buskin River","Chelatna Lake","Chignik River","Coghill River","Crescent River","Dog Salmon Creek","Eagle Sonar (Yukon/Canadian Border)","Egegik River","Eshamy River","Frazer Lake","Frosty Creek","George River","Goodnews River (Middle Fork)","Horse Marine Stream","Igushik River","Ilnik River","Judd Lake","Kanektok River","Karluk","Kasilof River","Kenai River","Kogrukluk River","Kvichak River","Lake Louise","Larson Lake","Litnik","Little Kitoi","Little River","Little Waterfall","Malina Creek","McLees","Middle Lagoon","Miles Lake","Morris Cove","Mortensens Creek","Naknek River","Nelson River","Nushagak River","Orzinski River","Pasagshak River","Pauls Bay","Pilot Station Sonar","Portage","Red Lake","Salmon River (Aniak)","Saltery Creek","Sandy River","Seal Bay Creek","Sturgeon River","Summer Bay","Takotna River","Tatlawiksuk River","Telaquana River","Thin Point Cove","Thorsheim","Togiak River","Uganik River","Ugashik River","Upper Station","Wood River"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[53.8963,64.8],"lng":[-166.7281,-141]}},"evals":[],"jsHooks":[]}</script>
<p>Leaflet has a ton of functionality that can enable you to create some beautiful, functional maps with relative ease. <a href="https://pages.github.nceas.ucsb.edu/NCEAS/sasap-data/language_vis.html">Here</a> is an example of some we created as part of the SASAP project, created using the same tools we showed you here. This map hopefully gives you an idea of how powerful the combination of RMarkdown and GitHub pages can be.</p>
</div>
</div>
<div id="static-maps-with-geom_sf" class="section level2">
<h2><span class="header-section-number">13.5</span> Static maps with geom_sf</h2>
<p>We can also create a similar static map using <code>ggplot</code> with the <code>geom_sf</code> geometry. To
do so, first we need to transform our locations data frame into an <code>sf</code> object by
providing the coordinate reference system (EPSG:4326 is the CRS for geocoordinates in WGS84).
We also transform the points to <code>EPSG:3857</code> which is the CRS used for rendering
maps in Google Maps, Stamen, and OpenStreetMap, among others.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" data-line-number="1">locations_sf &lt;-<span class="st"> </span>locations <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb140-2" data-line-number="2"><span class="st">  </span><span class="kw">st_as_sf</span>(<span class="dt">coords =</span> <span class="kw">c</span>(<span class="st">&quot;Longitude&quot;</span>, <span class="st">&quot;Latitude&quot;</span>), <span class="dt">crs =</span> <span class="dv">4326</span>)</a>
<a class="sourceLine" id="cb140-3" data-line-number="3">locations_sf_<span class="dv">3857</span> &lt;-<span class="st"> </span><span class="kw">st_transform</span>(locations_sf, <span class="dv">3857</span>)</a></code></pre></div>
<p>Next, let‚Äôs grab a base map from the Stamen map tile server covering the region of interest.
This includes a fix to transform the bounding box (which starts in <code>EPSSG:326</code>) to also be in the <code>EPSG:3857</code> CRS,
which is the projection that the map raster is returned in from Stamen.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" data-line-number="1"><span class="co"># Define a function to fix the bbox to be in EPSG:3857</span></a>
<a class="sourceLine" id="cb141-2" data-line-number="2"><span class="co"># See https://github.com/dkahle/ggmap/issues/160#issuecomment-397055208</span></a>
<a class="sourceLine" id="cb141-3" data-line-number="3">ggmap_bbox_to_<span class="dv">3857</span> &lt;-<span class="st"> </span><span class="cf">function</span>(map) {</a>
<a class="sourceLine" id="cb141-4" data-line-number="4">  <span class="cf">if</span> (<span class="op">!</span><span class="kw">inherits</span>(map, <span class="st">&quot;ggmap&quot;</span>)) <span class="kw">stop</span>(<span class="st">&quot;map must be a ggmap object&quot;</span>)</a>
<a class="sourceLine" id="cb141-5" data-line-number="5">  <span class="co"># Extract the bounding box (in lat/lon) from the ggmap to a numeric vector, </span></a>
<a class="sourceLine" id="cb141-6" data-line-number="6">  <span class="co"># and set the names to what sf::st_bbox expects:</span></a>
<a class="sourceLine" id="cb141-7" data-line-number="7">  map_bbox &lt;-<span class="st"> </span><span class="kw">setNames</span>(<span class="kw">unlist</span>(<span class="kw">attr</span>(map, <span class="st">&quot;bb&quot;</span>)), </a>
<a class="sourceLine" id="cb141-8" data-line-number="8">                       <span class="kw">c</span>(<span class="st">&quot;ymin&quot;</span>, <span class="st">&quot;xmin&quot;</span>, <span class="st">&quot;ymax&quot;</span>, <span class="st">&quot;xmax&quot;</span>))</a>
<a class="sourceLine" id="cb141-9" data-line-number="9">  </a>
<a class="sourceLine" id="cb141-10" data-line-number="10">  <span class="co"># Coonvert the bbox to an sf polygon, transform it to 3857, </span></a>
<a class="sourceLine" id="cb141-11" data-line-number="11">  <span class="co"># and convert back to a bbox (convoluted, but it works)</span></a>
<a class="sourceLine" id="cb141-12" data-line-number="12">  bbox_<span class="dv">3857</span> &lt;-<span class="st"> </span><span class="kw">st_bbox</span>(<span class="kw">st_transform</span>(<span class="kw">st_as_sfc</span>(<span class="kw">st_bbox</span>(map_bbox, <span class="dt">crs =</span> <span class="dv">4326</span>)), <span class="dv">3857</span>))</a>
<a class="sourceLine" id="cb141-13" data-line-number="13">  </a>
<a class="sourceLine" id="cb141-14" data-line-number="14">  <span class="co"># Overwrite the bbox of the ggmap object with the transformed coordinates </span></a>
<a class="sourceLine" id="cb141-15" data-line-number="15">  <span class="kw">attr</span>(map, <span class="st">&quot;bb&quot;</span>)<span class="op">$</span>ll.lat &lt;-<span class="st"> </span>bbox_<span class="dv">3857</span>[<span class="st">&quot;ymin&quot;</span>]</a>
<a class="sourceLine" id="cb141-16" data-line-number="16">  <span class="kw">attr</span>(map, <span class="st">&quot;bb&quot;</span>)<span class="op">$</span>ll.lon &lt;-<span class="st"> </span>bbox_<span class="dv">3857</span>[<span class="st">&quot;xmin&quot;</span>]</a>
<a class="sourceLine" id="cb141-17" data-line-number="17">  <span class="kw">attr</span>(map, <span class="st">&quot;bb&quot;</span>)<span class="op">$</span>ur.lat &lt;-<span class="st"> </span>bbox_<span class="dv">3857</span>[<span class="st">&quot;ymax&quot;</span>]</a>
<a class="sourceLine" id="cb141-18" data-line-number="18">  <span class="kw">attr</span>(map, <span class="st">&quot;bb&quot;</span>)<span class="op">$</span>ur.lon &lt;-<span class="st"> </span>bbox_<span class="dv">3857</span>[<span class="st">&quot;xmax&quot;</span>]</a>
<a class="sourceLine" id="cb141-19" data-line-number="19">  map</a>
<a class="sourceLine" id="cb141-20" data-line-number="20">}</a>
<a class="sourceLine" id="cb141-21" data-line-number="21"></a>
<a class="sourceLine" id="cb141-22" data-line-number="22">bbox &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">170</span>, <span class="dv">52</span>, <span class="dv">-130</span>, <span class="dv">64</span>)   <span class="co"># This is roughly southern Alaska</span></a>
<a class="sourceLine" id="cb141-23" data-line-number="23">ak_map &lt;-<span class="st"> </span><span class="kw">get_stamenmap</span>(bbox, <span class="dt">zoom =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb141-24" data-line-number="24">ak_map_<span class="dv">3857</span> &lt;-<span class="st"> </span><span class="kw">ggmap_bbox_to_3857</span>(ak_map)</a></code></pre></div>
<p>Finally, plot both the base raster map with the points overlayed, which is easy now
that everything is in the same projection (3857):</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1"><span class="kw">ggmap</span>(ak_map_<span class="dv">3857</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb142-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> locations_sf_<span class="dv">3857</span>, <span class="dt">inherit.aes =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="arctic-data-center-training_files/figure-html/unnamed-chunk-75-1.png" width="672" /></p>
</div>
<div id="resources-2" class="section level2">
<h2><span class="header-section-number">13.6</span> Resources</h2>
<ul>
<li>Lisa Charlotte Rost. (2018) <a href="https://blog.datawrapper.de/dualaxis/">Why not to use two axes, and what to use instead: The case against dual axis charts</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="writing-good-data-management-plans.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="social-aspects-of-collaboration-and-data-policies.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
