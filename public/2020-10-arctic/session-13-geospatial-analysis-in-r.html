<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>13 Session 13: Geospatial Analysis in R | Arctic Data Center Training</title>
  <meta name="description" content="13 Session 13: Geospatial Analysis in R | Arctic Data Center Training" />
  <meta name="generator" content="bookdown 0.20.6 and GitBook 2.6.7" />

  <meta property="og:title" content="13 Session 13: Geospatial Analysis in R | Arctic Data Center Training" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="13 Session 13: Geospatial Analysis in R | Arctic Data Center Training" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="session-12-exercise-cleaning-and-manipulating-data.html"/>
<link rel="next" href="session-14-reproducibility-and-provenance.html"/>
<script src="libs/header-attrs-2.3.11/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Data Science Training for the Arctic Data Center</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i><b>0.1</b> Schedule</a>
<ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#code-of-conduct"><i class="fa fa-check"></i><b>0.1.1</b> Code of Conduct</a></li>
<li class="chapter" data-level="0.1.2" data-path="index.html"><a href="index.html#logistics"><i class="fa fa-check"></i><b>0.1.2</b> Logistics</a></li>
<li class="chapter" data-level="0.1.3" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>0.1.3</b> Acknowledgements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html"><i class="fa fa-check"></i><b>1</b> Session 1: Introduction to the Arctic Data Center</a>
<ul>
<li class="chapter" data-level="1.1" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#introduction-to-the-arctic-data-center-and-nsf-standards-and-policies"><i class="fa fa-check"></i><b>1.1</b> Introduction to the Arctic Data Center and NSF Standards and Policies</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#learning-objectives"><i class="fa fa-check"></i><b>1.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="1.1.2" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#arctic-data-center---history-and-introduction"><i class="fa fa-check"></i><b>1.1.2</b> Arctic Data Center - History and Introduction</a></li>
<li class="chapter" data-level="1.1.3" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#data-discovery-portal"><i class="fa fa-check"></i><b>1.1.3</b> Data Discovery Portal</a></li>
<li class="chapter" data-level="1.1.4" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#tools-and-infrastructure"><i class="fa fa-check"></i><b>1.1.4</b> Tools and Infrastructure</a></li>
<li class="chapter" data-level="1.1.5" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#support-services"><i class="fa fa-check"></i><b>1.1.5</b> Support Services</a></li>
<li class="chapter" data-level="1.1.6" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#training-and-outreach"><i class="fa fa-check"></i><b>1.1.6</b> Training and Outreach</a></li>
<li class="chapter" data-level="1.1.7" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#data-rescue"><i class="fa fa-check"></i><b>1.1.7</b> Data Rescue</a></li>
<li class="chapter" data-level="1.1.8" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#who-must-submit"><i class="fa fa-check"></i><b>1.1.8</b> Who Must Submit</a></li>
<li class="chapter" data-level="1.1.9" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#summary"><i class="fa fa-check"></i><b>1.1.9</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#writing-good-data-management-plans"><i class="fa fa-check"></i><b>1.2</b> Writing Good Data Management Plans</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#learning-objectives-1"><i class="fa fa-check"></i><b>1.2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="1.2.2" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#when-to-plan-the-data-life-cycle"><i class="fa fa-check"></i><b>1.2.2</b> When to Plan: The Data Life Cycle</a></li>
<li class="chapter" data-level="1.2.3" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#why-plan"><i class="fa fa-check"></i><b>1.2.3</b> Why Plan?</a></li>
<li class="chapter" data-level="1.2.4" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#how-to-plan"><i class="fa fa-check"></i><b>1.2.4</b> How to Plan</a></li>
<li class="chapter" data-level="1.2.5" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#what-to-include-in-a-dmp"><i class="fa fa-check"></i><b>1.2.5</b> What to include in a DMP</a></li>
<li class="chapter" data-level="1.2.6" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#nsf-dmp-requirements"><i class="fa fa-check"></i><b>1.2.6</b> NSF DMP requirements</a></li>
<li class="chapter" data-level="1.2.7" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#tools-in-support-of-creating-a-dmp"><i class="fa fa-check"></i><b>1.2.7</b> Tools in Support of Creating a DMP</a></li>
<li class="chapter" data-level="1.2.8" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#arctic-data-center-support-for-dmps"><i class="fa fa-check"></i><b>1.2.8</b> Arctic Data Center Support for DMPs</a></li>
<li class="chapter" data-level="1.2.9" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#sharing-your-dmp"><i class="fa fa-check"></i><b>1.2.9</b> Sharing Your DMP</a></li>
<li class="chapter" data-level="1.2.10" data-path="session-1-introduction-to-the-arctic-data-center.html"><a href="session-1-introduction-to-the-arctic-data-center.html#additional-resources"><i class="fa fa-check"></i><b>1.2.10</b> Additional Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html"><i class="fa fa-check"></i><b>2</b> Session 2: Documenting and Publishing Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#best-practices-data-and-metadata"><i class="fa fa-check"></i><b>2.1</b> Best Practices: Data and Metadata</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#learning-objectives-2"><i class="fa fa-check"></i><b>2.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.1.2" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#best-practices-overview"><i class="fa fa-check"></i><b>2.1.2</b> Best Practices: Overview</a></li>
<li class="chapter" data-level="2.1.3" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#data-identifiers"><i class="fa fa-check"></i><b>2.1.3</b> Data Identifiers</a></li>
<li class="chapter" data-level="2.1.4" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#data-citation"><i class="fa fa-check"></i><b>2.1.4</b> Data Citation</a></li>
<li class="chapter" data-level="2.1.5" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#provanance-preserving-computational-workflows"><i class="fa fa-check"></i><b>2.1.5</b> Provanance &amp; Preserving Computational Workflows</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#data-documentation-and-publishing"><i class="fa fa-check"></i><b>2.2</b> Data Documentation and Publishing</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#learning-objectives-3"><i class="fa fa-check"></i><b>2.2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2.2" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#data-sharing-and-preservation"><i class="fa fa-check"></i><b>2.2.2</b> Data sharing and preservation</a></li>
<li class="chapter" data-level="2.2.3" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#data-repositories-built-for-data-and-code"><i class="fa fa-check"></i><b>2.2.3</b> Data repositories: built for data (and code)</a></li>
<li class="chapter" data-level="2.2.4" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#metadata"><i class="fa fa-check"></i><b>2.2.4</b> Metadata</a></li>
<li class="chapter" data-level="2.2.5" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#structure-of-a-data-package"><i class="fa fa-check"></i><b>2.2.5</b> Structure of a data package</a></li>
<li class="chapter" data-level="2.2.6" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#dataone-federation"><i class="fa fa-check"></i><b>2.2.6</b> DataONE Federation</a></li>
<li class="chapter" data-level="2.2.7" data-path="session-2-documenting-and-publishing-data.html"><a href="session-2-documenting-and-publishing-data.html#publishing-data-from-the-web"><i class="fa fa-check"></i><b>2.2.7</b> Publishing data from the web</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html"><i class="fa fa-check"></i><b>3</b> Session 3: Literate Analysis with RMarkdown</a>
<ul>
<li class="chapter" data-level="3.1" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#rstudio-and-gitgithub-setup-and-motivation"><i class="fa fa-check"></i><b>3.1</b> RStudio and Git/GitHub Setup and Motivation</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#learning-objectives-4"><i class="fa fa-check"></i><b>3.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="3.1.2" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#introduction-to-reproducible-research"><i class="fa fa-check"></i><b>3.1.2</b> Introduction to reproducible research</a></li>
<li class="chapter" data-level="3.1.3" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#logging-into-the-rstudio-server"><i class="fa fa-check"></i><b>3.1.3</b> Logging into the RStudio server</a></li>
<li class="chapter" data-level="3.1.4" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#setting-up-the-r-environment-on-your-local-computer"><i class="fa fa-check"></i><b>3.1.4</b> Setting up the R environment on your local computer</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#literate-analysis-with-rmarkdown"><i class="fa fa-check"></i><b>3.2</b> Literate Analysis with RMarkdown</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#learning-objectives-5"><i class="fa fa-check"></i><b>3.2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="3.2.2" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#introduction-and-motivation"><i class="fa fa-check"></i><b>3.2.2</b> Introduction and motivation</a></li>
<li class="chapter" data-level="3.2.3" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#basic-rmarkdown-syntax"><i class="fa fa-check"></i><b>3.2.3</b> Basic RMarkdown syntax</a></li>
<li class="chapter" data-level="3.2.4" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#code-chunks"><i class="fa fa-check"></i><b>3.2.4</b> Code chunks</a></li>
<li class="chapter" data-level="3.2.5" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#literate-analysis-practice"><i class="fa fa-check"></i><b>3.2.5</b> Literate analysis practice</a></li>
<li class="chapter" data-level="3.2.6" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#rmarkdown-and-environments"><i class="fa fa-check"></i><b>3.2.6</b> RMarkdown and environments</a></li>
<li class="chapter" data-level="3.2.7" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#go-further"><i class="fa fa-check"></i><b>3.2.7</b> Go Further</a></li>
<li class="chapter" data-level="3.2.8" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#resources"><i class="fa fa-check"></i><b>3.2.8</b> Resources</a></li>
<li class="chapter" data-level="3.2.9" data-path="session-3-literate-analysis-with-rmarkdown.html"><a href="session-3-literate-analysis-with-rmarkdown.html#troubleshooting"><i class="fa fa-check"></i><b>3.2.9</b> Troubleshooting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html"><i class="fa fa-check"></i><b>4</b> Session 4: Version Control with git and GitHub</a>
<ul>
<li class="chapter" data-level="4.1" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#learning-objectives-6"><i class="fa fa-check"></i><b>4.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#introduction-to-git"><i class="fa fa-check"></i><b>4.2</b> Introduction to git</a>
<ul>
<li class="chapter" data-level="" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#version-control-and-collaboration-using-git-and-github"><i class="fa fa-check"></i>Version control and Collaboration using Git and GitHub</a></li>
<li class="chapter" data-level="" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#lets-look-at-a-github-repository"><i class="fa fa-check"></i>Let’s look at a GitHub repository</a></li>
<li class="chapter" data-level="" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#the-git-lifecycle"><i class="fa fa-check"></i>The Git lifecycle</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#create-a-remote-repository-on-github"><i class="fa fa-check"></i><b>4.3</b> Create a remote repository on GitHub</a>
<ul>
<li class="chapter" data-level="" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#setup-4"><i class="fa fa-check"></i>Setup</a></li>
<li><a href="session-4-version-control-with-git-and-github.html#section-1"></a></li>
<li class="chapter" data-level="" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#challenge-5"><i class="fa fa-check"></i>Challenge</a></li>
<li><a href="session-4-version-control-with-git-and-github.html#section-2"></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#working-locally-with-git-via-rstudio"><i class="fa fa-check"></i><b>4.4</b> Working locally with Git via RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#setup-5"><i class="fa fa-check"></i>Setup</a></li>
<li><a href="session-4-version-control-with-git-and-github.html#section-3"></a></li>
<li class="chapter" data-level="" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#challenge-6"><i class="fa fa-check"></i>Challenge</a></li>
<li><a href="session-4-version-control-with-git-and-github.html#section-4"></a></li>
<li class="chapter" data-level="" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#aside-3"><i class="fa fa-check"></i>Aside</a></li>
<li class="chapter" data-level="" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#collaboration-and-conflict-free-workflows"><i class="fa fa-check"></i>Collaboration and conflict free workflows</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#setting-up-git-on-an-existing-project"><i class="fa fa-check"></i><b>4.5</b> Setting up git on an existing project</a>
<ul>
<li class="chapter" data-level="" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#challenge-7"><i class="fa fa-check"></i>Challenge</a></li>
<li><a href="session-4-version-control-with-git-and-github.html#section-5"></a></li>
<li class="chapter" data-level="" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#challenge-8"><i class="fa fa-check"></i>Challenge</a></li>
<li><a href="session-4-version-control-with-git-and-github.html#section-6"></a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="session-4-version-control-with-git-and-github.html"><a href="session-4-version-control-with-git-and-github.html#go-further-1"><i class="fa fa-check"></i><b>4.6</b> Go Further</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html"><i class="fa fa-check"></i><b>5</b> Session 5: Git Collaboration and Conflict Management</a>
<ul>
<li class="chapter" data-level="5.1" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#learning-objectives-7"><i class="fa fa-check"></i><b>5.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#introduction"><i class="fa fa-check"></i><b>5.2</b> Introduction</a></li>
<li class="chapter" data-level="5.3" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#collaborating-with-a-trusted-colleague-without-conflicts"><i class="fa fa-check"></i><b>5.3</b> Collaborating with a trusted colleague <strong>without conflicts</strong></a>
<ul>
<li class="chapter" data-level="" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#setup-6"><i class="fa fa-check"></i>Setup</a></li>
<li><a href="session-5-git-collaboration-and-conflict-management.html#section-7"></a></li>
<li class="chapter" data-level="5.3.1" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#step-1-collaborator-clone"><i class="fa fa-check"></i><b>5.3.1</b> Step 1: Collaborator clone</a></li>
<li class="chapter" data-level="5.3.2" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#step-2-collaborator-edits"><i class="fa fa-check"></i><b>5.3.2</b> Step 2: Collaborator Edits</a></li>
<li class="chapter" data-level="5.3.3" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#step-3-collaborator-commit-and-push"><i class="fa fa-check"></i><b>5.3.3</b> Step 3: Collaborator commit and push</a></li>
<li class="chapter" data-level="5.3.4" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#step-4-owner-pull"><i class="fa fa-check"></i><b>5.3.4</b> Step 4: Owner pull</a></li>
<li class="chapter" data-level="5.3.5" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#step-5-owner-edits-commit-and-push"><i class="fa fa-check"></i><b>5.3.5</b> Step 5: Owner edits, commit, and push</a></li>
<li class="chapter" data-level="5.3.6" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#step-6-collaborator-pull"><i class="fa fa-check"></i><b>5.3.6</b> Step 6: Collaborator pull</a></li>
<li class="chapter" data-level="" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#challenge-9"><i class="fa fa-check"></i>Challenge</a></li>
<li><a href="session-5-git-collaboration-and-conflict-management.html#section-8"></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#merge-conflicts"><i class="fa fa-check"></i><b>5.4</b> Merge conflicts</a></li>
<li class="chapter" data-level="5.5" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#how-to-resolve-a-conflict"><i class="fa fa-check"></i><b>5.5</b> How to resolve a conflict</a>
<ul>
<li class="chapter" data-level="" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#abort-abort-abort"><i class="fa fa-check"></i>Abort, abort, abort…</a></li>
<li class="chapter" data-level="" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#checkout"><i class="fa fa-check"></i>Checkout</a></li>
<li class="chapter" data-level="" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#pull-and-edit-the-file"><i class="fa fa-check"></i>Pull and edit the file</a></li>
<li class="chapter" data-level="5.5.1" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#producing-and-resolving-merge-conflicts"><i class="fa fa-check"></i><b>5.5.1</b> Producing and resolving merge conflicts</a></li>
<li class="chapter" data-level="" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#merge-conflict-challenge"><i class="fa fa-check"></i>Merge Conflict Challenge</a></li>
<li><a href="session-5-git-collaboration-and-conflict-management.html#section-9"></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="session-5-git-collaboration-and-conflict-management.html"><a href="session-5-git-collaboration-and-conflict-management.html#workflows-to-avoid-merge-conflicts"><i class="fa fa-check"></i><b>5.6</b> Workflows to avoid merge conflicts</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="session-6-social-aspects-of-collaboration.html"><a href="session-6-social-aspects-of-collaboration.html"><i class="fa fa-check"></i><b>6</b> Session 6: Social Aspects of Collaboration</a>
<ul>
<li class="chapter" data-level="6.1" data-path="session-6-social-aspects-of-collaboration.html"><a href="session-6-social-aspects-of-collaboration.html#thinking-preferences"><i class="fa fa-check"></i><b>6.1</b> Thinking preferences</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="session-6-social-aspects-of-collaboration.html"><a href="session-6-social-aspects-of-collaboration.html#learning-objectives-8"><i class="fa fa-check"></i><b>6.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="6.1.2" data-path="session-6-social-aspects-of-collaboration.html"><a href="session-6-social-aspects-of-collaboration.html#thinking-preferences-activity"><i class="fa fa-check"></i><b>6.1.2</b> Thinking Preferences Activity</a></li>
<li class="chapter" data-level="6.1.3" data-path="session-6-social-aspects-of-collaboration.html"><a href="session-6-social-aspects-of-collaboration.html#about-the-whole-brain-thinking-system"><i class="fa fa-check"></i><b>6.1.3</b> About the Whole Brain Thinking System</a></li>
<li class="chapter" data-level="6.1.4" data-path="session-6-social-aspects-of-collaboration.html"><a href="session-6-social-aspects-of-collaboration.html#bonus-activity-your-complex-self"><i class="fa fa-check"></i><b>6.1.4</b> Bonus Activity: Your Complex Self</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="session-6-social-aspects-of-collaboration.html"><a href="session-6-social-aspects-of-collaboration.html#additional-resources-collaboration-authorship-and-data-policies"><i class="fa fa-check"></i><b>6.2</b> Additional Resources: Collaboration, authorship and data policies</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="session-6-social-aspects-of-collaboration.html"><a href="session-6-social-aspects-of-collaboration.html#resources-1"><i class="fa fa-check"></i><b>6.2.1</b> Resources</a></li>
<li class="chapter" data-level="6.2.2" data-path="session-6-social-aspects-of-collaboration.html"><a href="session-6-social-aspects-of-collaboration.html#references"><i class="fa fa-check"></i><b>6.2.2</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="session-7-data-modeling-essentials.html"><a href="session-7-data-modeling-essentials.html"><i class="fa fa-check"></i><b>7</b> Session 7: Data Modeling Essentials</a>
<ul>
<li class="chapter" data-level="7.1" data-path="session-7-data-modeling-essentials.html"><a href="session-7-data-modeling-essentials.html#data-modeling-tidy-data"><i class="fa fa-check"></i><b>7.1</b> Data Modeling &amp; Tidy Data</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="session-7-data-modeling-essentials.html"><a href="session-7-data-modeling-essentials.html#learning-objectives-9"><i class="fa fa-check"></i><b>7.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="7.1.2" data-path="session-7-data-modeling-essentials.html"><a href="session-7-data-modeling-essentials.html#introduction-1"><i class="fa fa-check"></i><b>7.1.2</b> Introduction</a></li>
<li class="chapter" data-level="7.1.3" data-path="session-7-data-modeling-essentials.html"><a href="session-7-data-modeling-essentials.html#recognizing-untidy-data"><i class="fa fa-check"></i><b>7.1.3</b> Recognizing untidy data</a></li>
<li class="chapter" data-level="7.1.4" data-path="session-7-data-modeling-essentials.html"><a href="session-7-data-modeling-essentials.html#good-enough-data-modeling"><i class="fa fa-check"></i><b>7.1.4</b> Good enough data modeling</a></li>
<li class="chapter" data-level="7.1.5" data-path="session-7-data-modeling-essentials.html"><a href="session-7-data-modeling-essentials.html#using-normalized-data"><i class="fa fa-check"></i><b>7.1.5</b> Using normalized data</a></li>
<li class="chapter" data-level="7.1.6" data-path="session-7-data-modeling-essentials.html"><a href="session-7-data-modeling-essentials.html#data-modeling-exercise"><i class="fa fa-check"></i><b>7.1.6</b> Data modeling exercise</a></li>
<li class="chapter" data-level="7.1.7" data-path="session-7-data-modeling-essentials.html"><a href="session-7-data-modeling-essentials.html#resources-2"><i class="fa fa-check"></i><b>7.1.7</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="session-8-cleaning-and-manipulating-data.html"><a href="session-8-cleaning-and-manipulating-data.html"><i class="fa fa-check"></i><b>8</b> Session 8: Cleaning and Manipulating Data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="session-8-cleaning-and-manipulating-data.html"><a href="session-8-cleaning-and-manipulating-data.html#data-cleaning-and-manipulation"><i class="fa fa-check"></i><b>8.1</b> Data Cleaning and Manipulation</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="session-8-cleaning-and-manipulating-data.html"><a href="session-8-cleaning-and-manipulating-data.html#learning-objectives-10"><i class="fa fa-check"></i><b>8.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="8.1.2" data-path="session-8-cleaning-and-manipulating-data.html"><a href="session-8-cleaning-and-manipulating-data.html#introduction-2"><i class="fa fa-check"></i><b>8.1.2</b> Introduction</a></li>
<li class="chapter" data-level="8.1.3" data-path="session-8-cleaning-and-manipulating-data.html"><a href="session-8-cleaning-and-manipulating-data.html#data-cleaning-basics"><i class="fa fa-check"></i><b>8.1.3</b> Data Cleaning Basics</a></li>
<li class="chapter" data-level="8.1.4" data-path="session-8-cleaning-and-manipulating-data.html"><a href="session-8-cleaning-and-manipulating-data.html#joins-in-dplyr"><i class="fa fa-check"></i><b>8.1.4</b> Joins in dplyr</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html"><i class="fa fa-check"></i><b>9</b> Session 9: Data Visualisation and Publishing to the Web</a>
<ul>
<li class="chapter" data-level="9.1" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html#publishing-analyses-to-the-web"><i class="fa fa-check"></i><b>9.1</b> Publishing Analyses to the Web</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html#learning-objectives-11"><i class="fa fa-check"></i><b>9.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="9.1.2" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html#introduction-3"><i class="fa fa-check"></i><b>9.1.2</b> Introduction</a></li>
<li class="chapter" data-level="9.1.3" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html#a-minimal-example"><i class="fa fa-check"></i><b>9.1.3</b> A Minimal Example</a></li>
<li class="chapter" data-level="9.1.4" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html#exercise-sharing-your-work"><i class="fa fa-check"></i><b>9.1.4</b> Exercise: Sharing your work</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html#publication-graphics"><i class="fa fa-check"></i><b>9.2</b> Publication Graphics</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html#learning-objectives-12"><i class="fa fa-check"></i><b>9.2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="9.2.2" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html#overview-1"><i class="fa fa-check"></i><b>9.2.2</b> Overview</a></li>
<li class="chapter" data-level="9.2.3" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html#static-figures-using-ggplot2"><i class="fa fa-check"></i><b>9.2.3</b> Static figures using <code>ggplot2</code></a></li>
<li class="chapter" data-level="9.2.4" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html#interactive-visualization-using-leaflet-and-dt"><i class="fa fa-check"></i><b>9.2.4</b> Interactive visualization using <code>leaflet</code> and <code>DT</code></a></li>
<li class="chapter" data-level="9.2.5" data-path="session-9-data-visualisation-and-publishing-to-the-web.html"><a href="session-9-data-visualisation-and-publishing-to-the-web.html#resources-3"><i class="fa fa-check"></i><b>9.2.5</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html"><i class="fa fa-check"></i><b>10</b> Session 10: Writing Functions and Packages</a>
<ul>
<li class="chapter" data-level="10.1" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#creating-r-functions"><i class="fa fa-check"></i><b>10.1</b> Creating R Functions</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#why-functions"><i class="fa fa-check"></i><b>10.1.1</b> Why functions?</a></li>
<li class="chapter" data-level="10.1.2" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#documenting-r-functions"><i class="fa fa-check"></i><b>10.1.2</b> Documenting R functions</a></li>
<li class="chapter" data-level="10.1.3" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#summary-2"><i class="fa fa-check"></i><b>10.1.3</b> Summary</a></li>
<li class="chapter" data-level="10.1.4" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#examples-minimizing-work-with-functions"><i class="fa fa-check"></i><b>10.1.4</b> Examples: Minimizing work with functions</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#creating-r-packages"><i class="fa fa-check"></i><b>10.2</b> Creating R Packages</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#learning-objectives-13"><i class="fa fa-check"></i><b>10.2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.2.2" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#why-packages"><i class="fa fa-check"></i><b>10.2.2</b> Why packages?</a></li>
<li class="chapter" data-level="10.2.3" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#install-and-load-packages"><i class="fa fa-check"></i><b>10.2.3</b> Install and load packages</a></li>
<li class="chapter" data-level="10.2.4" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#create-a-basic-package"><i class="fa fa-check"></i><b>10.2.4</b> Create a basic package</a></li>
<li class="chapter" data-level="10.2.5" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#add-your-code"><i class="fa fa-check"></i><b>10.2.5</b> Add your code</a></li>
<li class="chapter" data-level="10.2.6" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#add-documentation"><i class="fa fa-check"></i><b>10.2.6</b> Add documentation</a></li>
<li class="chapter" data-level="10.2.7" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#test-your-package"><i class="fa fa-check"></i><b>10.2.7</b> Test your package</a></li>
<li class="chapter" data-level="10.2.8" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#checking-and-installing-your-package"><i class="fa fa-check"></i><b>10.2.8</b> Checking and installing your package</a></li>
<li class="chapter" data-level="10.2.9" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#sharing-and-releasing-your-package"><i class="fa fa-check"></i><b>10.2.9</b> Sharing and releasing your package</a></li>
<li class="chapter" data-level="10.2.10" data-path="session-10-writing-functions-and-packages.html"><a href="session-10-writing-functions-and-packages.html#more-reading"><i class="fa fa-check"></i><b>10.2.10</b> More reading</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html"><i class="fa fa-check"></i><b>11</b> Session 11: Arctic Data Center Data Portals</a>
<ul>
<li class="chapter" data-level="11.1" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#creating-a-data-portal"><i class="fa fa-check"></i><b>11.1</b> Creating a data portal</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#what-is-a-portal"><i class="fa fa-check"></i><b>11.1.1</b> What is a Portal?</a></li>
<li class="chapter" data-level="11.1.2" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#portal-uses"><i class="fa fa-check"></i><b>11.1.2</b> Portal Uses</a></li>
<li class="chapter" data-level="11.1.3" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#portal-main-components"><i class="fa fa-check"></i><b>11.1.3</b> Portal Main Components</a></li>
<li class="chapter" data-level="11.1.4" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#creating-portals"><i class="fa fa-check"></i><b>11.1.4</b> Creating Portals</a></li>
<li class="chapter" data-level="11.1.5" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#adding-data-to-portals"><i class="fa fa-check"></i><b>11.1.5</b> Adding Data to Portals</a></li>
<li class="chapter" data-level="11.1.6" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#creating-unique-freeform-pages"><i class="fa fa-check"></i><b>11.1.6</b> Creating Unique Freeform Pages</a></li>
<li class="chapter" data-level="11.1.7" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#saving-and-editing-portals"><i class="fa fa-check"></i><b>11.1.7</b> Saving and Editing Portals</a></li>
<li class="chapter" data-level="11.1.8" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#how-to-publish-portals"><i class="fa fa-check"></i><b>11.1.8</b> How to Publish Portals</a></li>
<li class="chapter" data-level="11.1.9" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#sharing-portals"><i class="fa fa-check"></i><b>11.1.9</b> Sharing Portals</a></li>
<li class="chapter" data-level="11.1.10" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#tutorial-videos"><i class="fa fa-check"></i><b>11.1.10</b> Tutorial Videos</a></li>
<li class="chapter" data-level="11.1.11" data-path="session-11-arctic-data-center-data-portals.html"><a href="session-11-arctic-data-center-data-portals.html#acknowledgements-1"><i class="fa fa-check"></i><b>11.1.11</b> Acknowledgements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="session-12-exercise-cleaning-and-manipulating-data.html"><a href="session-12-exercise-cleaning-and-manipulating-data.html"><i class="fa fa-check"></i><b>12</b> Session 12: Exercise - Cleaning and Manipulating Data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="session-12-exercise-cleaning-and-manipulating-data.html"><a href="session-12-exercise-cleaning-and-manipulating-data.html#hands-on-clean-and-integrate-datasets"><i class="fa fa-check"></i><b>12.1</b> Hands On: Clean and Integrate Datasets</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="session-12-exercise-cleaning-and-manipulating-data.html"><a href="session-12-exercise-cleaning-and-manipulating-data.html#learning-objectives-14"><i class="fa fa-check"></i><b>12.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="12.1.2" data-path="session-12-exercise-cleaning-and-manipulating-data.html"><a href="session-12-exercise-cleaning-and-manipulating-data.html#outline"><i class="fa fa-check"></i><b>12.1.2</b> Outline</a></li>
<li class="chapter" data-level="12.1.3" data-path="session-12-exercise-cleaning-and-manipulating-data.html"><a href="session-12-exercise-cleaning-and-manipulating-data.html#full-solution.-warning-spoilers-ahead"><i class="fa fa-check"></i><b>12.1.3</b> Full solution. Warning, spoilers ahead!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="session-13-geospatial-analysis-in-r.html"><a href="session-13-geospatial-analysis-in-r.html"><i class="fa fa-check"></i><b>13</b> Session 13: Geospatial Analysis in R</a>
<ul>
<li class="chapter" data-level="13.1" data-path="session-13-geospatial-analysis-in-r.html"><a href="session-13-geospatial-analysis-in-r.html#spatial-vector-analysis-using-sf"><i class="fa fa-check"></i><b>13.1</b> Spatial vector analysis using <code>sf</code></a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="session-13-geospatial-analysis-in-r.html"><a href="session-13-geospatial-analysis-in-r.html#learning-objectives-15"><i class="fa fa-check"></i><b>13.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="13.1.2" data-path="session-13-geospatial-analysis-in-r.html"><a href="session-13-geospatial-analysis-in-r.html#introduction-4"><i class="fa fa-check"></i><b>13.1.2</b> Introduction</a></li>
<li class="chapter" data-level="13.1.3" data-path="session-13-geospatial-analysis-in-r.html"><a href="session-13-geospatial-analysis-in-r.html#working-with-geospatial-data"><i class="fa fa-check"></i><b>13.1.3</b> Working with geospatial data</a></li>
<li class="chapter" data-level="13.1.4" data-path="session-13-geospatial-analysis-in-r.html"><a href="session-13-geospatial-analysis-in-r.html#sf-the-tidyverse"><i class="fa fa-check"></i><b>13.1.4</b> <code>sf</code> &amp; the Tidyverse</a></li>
<li class="chapter" data-level="13.1.5" data-path="session-13-geospatial-analysis-in-r.html"><a href="session-13-geospatial-analysis-in-r.html#visualize-with-ggplot"><i class="fa fa-check"></i><b>13.1.5</b> Visualize with ggplot</a></li>
<li class="chapter" data-level="13.1.6" data-path="session-13-geospatial-analysis-in-r.html"><a href="session-13-geospatial-analysis-in-r.html#visualize-sf-objects-with-leaflet"><i class="fa fa-check"></i><b>13.1.6</b> Visualize <code>sf</code> objects with leaflet</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="session-14-reproducibility-and-provenance.html"><a href="session-14-reproducibility-and-provenance.html"><i class="fa fa-check"></i><b>14</b> Session 14: Reproducibility and Provenance</a>
<ul>
<li class="chapter" data-level="14.1" data-path="session-14-reproducibility-and-provenance.html"><a href="session-14-reproducibility-and-provenance.html#reproducibility-and-provenance"><i class="fa fa-check"></i><b>14.1</b> Reproducibility and Provenance</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="session-14-reproducibility-and-provenance.html"><a href="session-14-reproducibility-and-provenance.html#learning-objectives-16"><i class="fa fa-check"></i><b>14.1.1</b> Learning Objectives</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Arctic Data Center Training</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="session-13-geospatial-analysis-in-r" class="section level1" number="13">
<h1><span class="header-section-number">13</span> Session 13: Geospatial Analysis in R</h1>
<div id="spatial-vector-analysis-using-sf" class="section level2" number="13.1">
<h2><span class="header-section-number">13.1</span> Spatial vector analysis using <code>sf</code></h2>
<div id="learning-objectives-15" class="section level3" number="13.1.1">
<h3><span class="header-section-number">13.1.1</span> Learning Objectives</h3>
<p>In this lesson, you will learn:</p>
<ul>
<li>How to use the <code>sf</code> package to analyze geospatial data</li>
<li>Static mapping with ggplot</li>
<li>interactive mapping with <code>leaflet</code></li>
</ul>
</div>
<div id="introduction-4" class="section level3" number="13.1.2">
<h3><span class="header-section-number">13.1.2</span> Introduction</h3>
<p>From the <a href="https://r-spatial.github.io/sf/articles/sf1.html"><strong>sf</strong></a> vignette:</p>
<blockquote>
<p>Simple features or simple feature access refers to a formal standard (ISO 19125-1:2004) that describes how objects in the real world can be represented in computers, with emphasis on the spatial geometry of these objects. It also describes how such objects can be stored in and retrieved from databases, and which geometrical operations should be defined for them.</p>
</blockquote>
<p>The <strong>sf</strong> package is an R implementation of <a href="https://en.wikipedia.org/wiki/Simple_Features">Simple Features</a>. This package incorporates:</p>
<ul>
<li>a new spatial data class system in R<br />
</li>
<li>functions for reading and writing data<br />
</li>
<li>tools for spatial operations on vectors</li>
</ul>
<p>Most of the functions in this package starts with prefix <code>st_</code> which stands for <em>spatial</em> and <em>temporal</em>.</p>
<p>In this tutorial, our goal is to use a shapefile of Alaska regions and data on population in Alaska by community to create a map that looks like this:</p>
<p><img src="images/alaska_population.png" /></p>
<p>The data we will be using to create the map are:</p>
<ul>
<li>Alaska regional boundaries</li>
<li>Community locations and population</li>
<li>Alaksa rivers</li>
</ul>
</div>
<div id="working-with-geospatial-data" class="section level3" number="13.1.3">
<h3><span class="header-section-number">13.1.3</span> Working with geospatial data</h3>
<p>All of the data used in this tutorial are simplified versions of real datasets available on the KNB. I’ve simplified the original high-resolution geospatial datasets to ease the processing burden on your computers while learning how to do the analysis. These simplified versions of the datasets may contain topological errors. The original version of the datasets are indicated throughout the chapter.</p>
<div id="setup-10" class="section level4 unnumbered setup" number="">
<h4>Setup</h4>
<p>For convience, I’ve hosted a zipped copy of all of the files on our test site.</p>
<p>Follow these steps to get ready for the next exercise:</p>
<ol style="list-style-type: decimal">
<li>Navigate to <a href="https://dev.nceas.ucsb.edu/view/urn:uuid:6f07cb25-a4a1-48e8-95cb-74f532f3ce2d">this dataset</a> and download the zip folder.</li>
<li>Create a new folder in your training_username project called “shapefiles”</li>
<li>Click the “upload” button on RStudio server, and upload the file to the shapefiles directory</li>
<li>Open your .gititnore file and add that directory to the list of things to ignore.</li>
<li>Save and commit the changes to your .gitignore.</li>
</ol>
<p>The first file we will use is a shapefile of regional boundaries in alaska derived from: Jared Kibele and Jeanette Clark. 2018. State of Alaska’s Salmon and People Regional Boundaries. Knowledge Network for Biocomplexity. <a href="https://doi.org/10.5063/F1125QWP">doi:10.5063/F1125QWP</a>.</p>
</div>
<div id="section-19" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number=""></h4>
<p>Now we can load the libraries we need:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="session-13-geospatial-analysis-in-r.html#cb177-1"></a><span class="kw">library</span>(sf)</span>
<span id="cb177-2"><a href="session-13-geospatial-analysis-in-r.html#cb177-2"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb177-3"><a href="session-13-geospatial-analysis-in-r.html#cb177-3"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb177-4"><a href="session-13-geospatial-analysis-in-r.html#cb177-4"></a><span class="kw">library</span>(leaflet)</span>
<span id="cb177-5"><a href="session-13-geospatial-analysis-in-r.html#cb177-5"></a><span class="kw">library</span>(scales)</span>
<span id="cb177-6"><a href="session-13-geospatial-analysis-in-r.html#cb177-6"></a><span class="kw">library</span>(ggmap)</span></code></pre></div>
<p>Read in the data and look at a plot of it.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="session-13-geospatial-analysis-in-r.html#cb178-1"></a><span class="co">## Read in shapefile using sf</span></span>
<span id="cb178-2"><a href="session-13-geospatial-analysis-in-r.html#cb178-2"></a>ak_regions &lt;-<span class="st"> </span><span class="kw">read_sf</span>(<span class="st">&quot;shapefiles/ak_regions_simp.shp&quot;</span>)</span>
<span id="cb178-3"><a href="session-13-geospatial-analysis-in-r.html#cb178-3"></a></span>
<span id="cb178-4"><a href="session-13-geospatial-analysis-in-r.html#cb178-4"></a><span class="kw">plot</span>(ak_regions)  </span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/read_shp_sf-1.png" width="672" /></p>
<p>We can also examine it’s class.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="session-13-geospatial-analysis-in-r.html#cb179-1"></a><span class="kw">class</span>(ak_regions)</span></code></pre></div>
<pre><code>## [1] &quot;sf&quot;         &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<p><strong>sf</strong> objects usually have two types - <code>sf</code> and <code>data.frame</code>. Two main differences comparing to a regular <code>data.frame</code> object are spatial metadata (<code>geometry type</code>, <code>dimension</code>, <code>bbox</code>, <code>epsg (SRID)</code>, <code>proj4string</code>) and additional column - typically named <code>geometry</code>.</p>
<p>Since our shapefile object has the <code>data.frame</code> class, viewing the contents of the object using the <code>head</code> function shows similar results to data we read in using <code>read.csv</code>.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="session-13-geospatial-analysis-in-r.html#cb181-1"></a><span class="kw">head</span>(ak_regions)</span></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 3 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: -179.2296 ymin: 51.15702 xmax: 179.8567 ymax: 71.43957
## CRS:            4326
## # A tibble: 6 x 4
##   region_id region       mgmt_area                                                    geometry
##       &lt;int&gt; &lt;chr&gt;            &lt;dbl&gt;                                          &lt;MULTIPOLYGON [°]&gt;
## 1         1 Aleutian Is…         3 (((-171.1345 52.44974, -171.1686 52.41744, -171.1939 52.40…
## 2         2 Arctic               4 (((-139.9552 68.70597, -139.9893 68.70516, -140.0108 68.70…
## 3         3 Bristol Bay          3 (((-159.8745 58.62778, -159.8654 58.61376, -159.8623 58.60…
## 4         4 Chignik              3 (((-155.8282 55.84638, -155.8049 55.86557, -155.7414 55.88…
## 5         5 Copper River         2 (((-143.8874 59.93931, -143.9165 59.94034, -143.9439 59.94…
## 6         6 Kodiak               3 (((-151.9997 58.83077, -152.0358 58.82714, -152.0747 58.83…</code></pre>
</div>
<div id="coordinate-reference-system" class="section level4 unnumbered" number="">
<h4>Coordinate Reference System</h4>
<p>Every <code>sf</code> object needs a coordinate reference system (or <code>crs</code>) defined in order to work with it correctly. A coordinate reference system contains both a datum and a projection. The datum is how you georeference your points (in 3 dimensions!) onto a spheroid. The projection is how these points are mathematically transformed to represent the georeferenced point on a flat piece of paper. All coordinate reference systems require a datum. However, some coordinate reference systems are “unprojected” (also called geographic coordinate systems). Coordinates in latitude/longitude use a geographic (unprojected) coordinate system. One of the most commonly used geographic coordinate systems is WGS 1984.</p>
<p>ESRI has a <a href="https://www.esri.com/arcgis-blog/products/arcgis-pro/mapping/gcs_vs_pcs/">blog post</a> that explains these concepts in more detail with very helpful diagrams and examples.</p>
<p>You can view what <code>crs</code> is set by using the function <code>st_crs</code></p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="session-13-geospatial-analysis-in-r.html#cb183-1"></a><span class="kw">st_crs</span>(ak_regions)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: 4326 
##   wkt:
## GEOGCS[&quot;WGS 84&quot;,
##     DATUM[&quot;WGS_1984&quot;,
##         SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,
##             AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],
##         AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],
##     UNIT[&quot;degree&quot;,0.0174532925199433,
##         AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],
##     AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]</code></pre>
<p>This is pretty confusing looking. Without getting into the details, that long string says that this data has a greographic coordinate system (WGS84) with no projection. A convenient way to reference <code>crs</code> quickly is by using the EPSG code, a number that represents a standard projection and datum. You can check out a list of (lots!) of EPSG codes <a href="http://spatialreference.org/ref/epsg/?page=1">here</a>.</p>
<p>We will use several EPSG codes in this lesson. Here they are, along with their more readable names:</p>
<ul>
<li>3338: Alaska Albers</li>
<li>4326: WGS84 (World Geodetic System 1984), used in GPS</li>
<li>3857: Pseudo-Mercator, used in Google Maps, OpenStreetMap, Bing, ArcGIS, ESRI</li>
</ul>
<p>You will often need to transform your geospatial data from one coordinate system to another. The <code>st_transform</code> function does this quickly for us. You may have noticed the maps above looked wonky because of the dateline. We might want to set a different projection for this data so it plots nicer. A good one for Alaska is called the Alaska Albers projection, with an EPSG code of <a href="http://spatialreference.org/ref/epsg/3338/">3338</a>.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="session-13-geospatial-analysis-in-r.html#cb185-1"></a>ak_regions_<span class="dv">3338</span> &lt;-<span class="st"> </span>ak_regions <span class="op">%&gt;%</span></span>
<span id="cb185-2"><a href="session-13-geospatial-analysis-in-r.html#cb185-2"></a><span class="st">  </span><span class="kw">st_transform</span>(<span class="dt">crs =</span> <span class="dv">3338</span>)</span>
<span id="cb185-3"><a href="session-13-geospatial-analysis-in-r.html#cb185-3"></a></span>
<span id="cb185-4"><a href="session-13-geospatial-analysis-in-r.html#cb185-4"></a><span class="kw">st_crs</span>(ak_regions_<span class="dv">3338</span>)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: EPSG:3338 
##   wkt:
## PROJCS[&quot;NAD83 / Alaska Albers&quot;,
##     GEOGCS[&quot;NAD83&quot;,
##         DATUM[&quot;North_American_Datum_1983&quot;,
##             SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,
##                 AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],
##             TOWGS84[0,0,0,0,0,0,0],
##             AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],
##         PRIMEM[&quot;Greenwich&quot;,0,
##             AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],
##         UNIT[&quot;degree&quot;,0.0174532925199433,
##             AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],
##         AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],
##     PROJECTION[&quot;Albers_Conic_Equal_Area&quot;],
##     PARAMETER[&quot;standard_parallel_1&quot;,55],
##     PARAMETER[&quot;standard_parallel_2&quot;,65],
##     PARAMETER[&quot;latitude_of_center&quot;,50],
##     PARAMETER[&quot;longitude_of_center&quot;,-154],
##     PARAMETER[&quot;false_easting&quot;,0],
##     PARAMETER[&quot;false_northing&quot;,0],
##     UNIT[&quot;metre&quot;,1,
##         AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],
##     AXIS[&quot;X&quot;,EAST],
##     AXIS[&quot;Y&quot;,NORTH],
##     AUTHORITY[&quot;EPSG&quot;,&quot;3338&quot;]]</code></pre>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="session-13-geospatial-analysis-in-r.html#cb187-1"></a><span class="kw">plot</span>(ak_regions_<span class="dv">3338</span>)</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-120-1.png" width="672" /></p>
<p>Much better!</p>
</div>
</div>
<div id="sf-the-tidyverse" class="section level3" number="13.1.4">
<h3><span class="header-section-number">13.1.4</span> <code>sf</code> &amp; the Tidyverse</h3>
<p><strong>sf</strong> objects can be used as a regular <code>data.frame</code> object in many operations. We already saw the results of <code>plot</code> and <code>head</code>.</p>
<div id="challenge-23" class="section level4 unnumbered exercise" number="">
<h4>Challenge</h4>
<p>Try running some other functions you might use to explore a regular <code>data.frame</code> on your <code>sf</code> flavored <code>data.frame</code>.</p>
</div>
<div id="section-20" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number=""></h4>
<p>Since <code>sf</code> objects are data.frames, they play nicely with packages in the tidyverse. Here are a couple of simple examples:</p>
<p><code>select()</code></p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="session-13-geospatial-analysis-in-r.html#cb188-1"></a>ak_regions_<span class="dv">3338</span> <span class="op">%&gt;%</span></span>
<span id="cb188-2"><a href="session-13-geospatial-analysis-in-r.html#cb188-2"></a><span class="st">  </span><span class="kw">select</span>(region)</span></code></pre></div>
<pre><code>## Simple feature collection with 13 features and 1 field
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: -2175328 ymin: 405653.9 xmax: 1579226 ymax: 2383770
## CRS:            EPSG:3338
## # A tibble: 13 x 2
##    region                                                                             geometry
##    &lt;chr&gt;                                                                    &lt;MULTIPOLYGON [m]&gt;
##  1 Aleutian Islands  (((-1156666 420855.1, -1159837 417990.3, -1161898 416944.4, -1164213 416…
##  2 Arctic            (((571289.9 2143072, 569941.5 2142691, 569158.2 2142146, 569091.2 214167…
##  3 Bristol Bay       (((-339688.6 973904.9, -339302 972297.3, -339229.2 971037.4, -339447.2 9…
##  4 Chignik           (((-114381.9 649966.8, -112866.8 652065.8, -108836.8 654303.1, -108087.1…
##  5 Copper River      (((561012 1148301, 559393.7 1148169, 557797.7 1148492, 555907.2 1146706,…
##  6 Kodiak            (((115112.5 983293, 113051.3 982825.9, 110801.3 983211.6, 108222.1 98494…
##  7 Kotzebue          (((-678815.3 1819519, -677555.2 1820698, -675557.8 1821561, -673917 1821…
##  8 Kuskokwim         (((-1030125 1281198, -1029858 1282333, -1028980 1284032, -1027261 128572…
##  9 Cook Inlet        (((35214.98 1002457, 36660.3 1002038, 36953.11 1001186, 36741.46 1000245…
## 10 Norton Sound      (((-848357 1636692, -846510 1635203, -840513.7 1632225, -835815.4 162865…
## 11 Prince William S… (((426007.1 1087250, 426562.5 1088591, 427711.6 1089991, 429938.5 109118…
## 12 Southeast         (((1287777 744574.1, 1290183 745970.8, 1292940 746262.7, 1296762 744831.…
## 13 Yukon             (((-375318 1473998, -373723.9 1473487, -373064.8 1473930, -372359.7 1473…</code></pre>
<p>Note the sticky geometry column! The geometry column will stay with your <code>sf</code> object even if it is not called explicitly.</p>
<p><code>filter()</code></p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="session-13-geospatial-analysis-in-r.html#cb190-1"></a>ak_regions_<span class="dv">3338</span> <span class="op">%&gt;%</span></span>
<span id="cb190-2"><a href="session-13-geospatial-analysis-in-r.html#cb190-2"></a><span class="st">  </span><span class="kw">filter</span>(region <span class="op">==</span><span class="st"> &quot;Southeast&quot;</span>)</span></code></pre></div>
<pre><code>## Simple feature collection with 1 feature and 3 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: 559475.7 ymin: 722450 xmax: 1579226 ymax: 1410576
## CRS:            EPSG:3338
## # A tibble: 1 x 4
##   region_id region   mgmt_area                                                        geometry
## *     &lt;int&gt; &lt;chr&gt;        &lt;dbl&gt;                                              &lt;MULTIPOLYGON [m]&gt;
## 1        12 Southea…         1 (((1287777 744574.1, 1290183 745970.8, 1292940 746262.7, 12967…</code></pre>
</div>
<div id="joins" class="section level4 unnumbered" number="">
<h4>Joins</h4>
<p>You can also use the <code>sf</code> package to create spatial joins, useful for when you want to utilize two datasets together. As an example, let’s ask a question: <strong>how many people live in each of these Alaska regions?</strong></p>
<p>We have some population data, but it gives the number of people by city, not by region. To determine the number of people per region we will need to:</p>
<ul>
<li>read in the city data from a csv and turn it into an <code>sf</code> object</li>
<li>use a spatial join (<code>st_join</code>) to assign each city to a region</li>
<li>use <code>group_by</code> and <code>summarize</code> to calculate the total population by region</li>
</ul>
<p>First, read in the population data as a regular <code>data.frame</code>. This data is derived from: Jeanette Clark, Sharis Ochs, Derek Strong, and National Historic Geographic Information System. 2018. Languages used in Alaskan households, 1990-2015. Knowledge Network for Biocomplexity. <a href="https://doi.org/10.5063/F11G0JHX">doi:10.5063/F11G0JHX</a>. Unnecessary columns were removed and the most recent year of data was selected.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="session-13-geospatial-analysis-in-r.html#cb192-1"></a>pop &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;shapefiles/alaska_population.csv&quot;</span>)</span></code></pre></div>
<p>The <code>st_join</code> function is a spatial left join. The arguments for both the left and right tables are objects of class <code>sf</code> which means we will first need to turn our population <code>data.frame</code> with latitude and longitude coordinates into an <code>sf</code> object.</p>
<p>We can do this easily using the <code>st_as_sf</code> function, which takes as arguments the coordinates and the <code>crs</code>. The <code>remove = F</code> specification here ensures that when we create our <code>geometry</code> column, we retain our original <code>lat</code> <code>lng</code> columns, which we will need later for plotting. Although it isn’t said anywhere explicitly in the file, let’s assume that the coordinate system used to reference the latitude longitude coordinates is WGS84, which has a <code>crs</code> number of 4236.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="session-13-geospatial-analysis-in-r.html#cb193-1"></a>pop_<span class="dv">4326</span> &lt;-<span class="st"> </span><span class="kw">st_as_sf</span>(pop, </span>
<span id="cb193-2"><a href="session-13-geospatial-analysis-in-r.html#cb193-2"></a>                  <span class="dt">coords =</span> <span class="kw">c</span>(<span class="st">&#39;lng&#39;</span>, <span class="st">&#39;lat&#39;</span>),</span>
<span id="cb193-3"><a href="session-13-geospatial-analysis-in-r.html#cb193-3"></a>                  <span class="dt">crs =</span> <span class="dv">4326</span>,</span>
<span id="cb193-4"><a href="session-13-geospatial-analysis-in-r.html#cb193-4"></a>                  <span class="dt">remove =</span> F)</span>
<span id="cb193-5"><a href="session-13-geospatial-analysis-in-r.html#cb193-5"></a></span>
<span id="cb193-6"><a href="session-13-geospatial-analysis-in-r.html#cb193-6"></a><span class="kw">head</span>(pop_<span class="dv">4326</span>)</span></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 5 fields
## geometry type:  POINT
## dimension:      XY
## bbox:           xmin: -176.6581 ymin: 51.88 xmax: -154.1703 ymax: 62.68889
## CRS:            EPSG:4326
##   year     city      lat       lng population                   geometry
## 1 2015     Adak 51.88000 -176.6581        122    POINT (-176.6581 51.88)
## 2 2015   Akhiok 56.94556 -154.1703         84 POINT (-154.1703 56.94556)
## 3 2015 Akiachak 60.90944 -161.4314        562 POINT (-161.4314 60.90944)
## 4 2015    Akiak 60.91222 -161.2139        399 POINT (-161.2139 60.91222)
## 5 2015   Akutan 54.13556 -165.7731        899 POINT (-165.7731 54.13556)
## 6 2015 Alakanuk 62.68889 -164.6153        777 POINT (-164.6153 62.68889)</code></pre>
<p>Now we can do our spatial join! You can specify what geometry function the join uses (<code>st_intersects</code>, <code>st_within</code>, <code>st_crosses</code>, <code>st_is_within_distance</code>, …) in the <code>join</code> argument. The geometry function you use will depend on what kind of operation you want to do, and the geometries of your shapefiles.</p>
<p>In this case, we want to find what region each city falls within, so we will use <code>st_within</code>.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="session-13-geospatial-analysis-in-r.html#cb195-1"></a>pop_joined &lt;-<span class="st"> </span><span class="kw">st_join</span>(pop_<span class="dv">4326</span>, ak_regions_<span class="dv">3338</span>, <span class="dt">join =</span> st_within)</span></code></pre></div>
<p>This gives an error!</p>
<pre><code>Error: st_crs(x) == st_crs(y) is not TRUE</code></pre>
<p>Turns out, this won’t work right now because our coordinate reference systems are not the same. Luckily, this is easily resolved using <code>st_transform</code>, and projecting our population object into Alaska Albers.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="session-13-geospatial-analysis-in-r.html#cb197-1"></a>pop_<span class="dv">3338</span> &lt;-<span class="st"> </span><span class="kw">st_transform</span>(pop_<span class="dv">4326</span>, <span class="dt">crs =</span> <span class="dv">3338</span>)</span></code></pre></div>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="session-13-geospatial-analysis-in-r.html#cb198-1"></a>pop_joined &lt;-<span class="st"> </span><span class="kw">st_join</span>(pop_<span class="dv">3338</span>, ak_regions_<span class="dv">3338</span>, <span class="dt">join =</span> st_within)</span>
<span id="cb198-2"><a href="session-13-geospatial-analysis-in-r.html#cb198-2"></a></span>
<span id="cb198-3"><a href="session-13-geospatial-analysis-in-r.html#cb198-3"></a><span class="kw">head</span>(pop_joined)</span></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 8 fields
## geometry type:  POINT
## dimension:      XY
## bbox:           xmin: -1537925 ymin: 472627.8 xmax: -10340.71 ymax: 1456223
## CRS:            EPSG:3338
##   year     city      lat       lng population region_id           region mgmt_area
## 1 2015     Adak 51.88000 -176.6581        122         1 Aleutian Islands         3
## 2 2015   Akhiok 56.94556 -154.1703         84         6           Kodiak         3
## 3 2015 Akiachak 60.90944 -161.4314        562         8        Kuskokwim         4
## 4 2015    Akiak 60.91222 -161.2139        399         8        Kuskokwim         4
## 5 2015   Akutan 54.13556 -165.7731        899         1 Aleutian Islands         3
## 6 2015 Alakanuk 62.68889 -164.6153        777        13            Yukon         4
##                     geometry
## 1  POINT (-1537925 472627.8)
## 2 POINT (-10340.71 770998.4)
## 3  POINT (-400885.5 1236460)
## 4  POINT (-389165.7 1235475)
## 5 POINT (-766425.7 526057.8)
## 6  POINT (-539724.9 1456223)</code></pre>
</div>
<div id="challenge-24" class="section level4 unnumbered exercise" number="">
<h4>Challenge</h4>
<p>Like we mentioned above, there are many different types of joins you can do with geospatial data. Examine the help page for these joins (<code>?st_within</code> will get you there). What other joins types might be appropriate for examining the relationship between points and polygyons? What about two sets of polygons?</p>
</div>
<div id="group-and-summarize" class="section level4 unnumbered" number="">
<h4>Group and summarize</h4>
<p>Next we compute the total population for each region. In this case, we want to do a <code>group_by</code> and <code>summarise</code> as this were a regular <code>data.frame</code> - otherwise all of our point geometries would be included in the aggreation, which is not what we want. Our goal is just to get the total population by region. We remove the sticky geometry using <code>as.data.frame</code>, on the advice of the <code>sf::tidyverse</code> help page.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="session-13-geospatial-analysis-in-r.html#cb200-1"></a>pop_region &lt;-<span class="st"> </span>pop_joined <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb200-2"><a href="session-13-geospatial-analysis-in-r.html#cb200-2"></a><span class="st">  </span><span class="kw">as.data.frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb200-3"><a href="session-13-geospatial-analysis-in-r.html#cb200-3"></a><span class="st">  </span><span class="kw">group_by</span>(region) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb200-4"><a href="session-13-geospatial-analysis-in-r.html#cb200-4"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">total_pop =</span> <span class="kw">sum</span>(population))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="session-13-geospatial-analysis-in-r.html#cb202-1"></a><span class="kw">head</span>(pop_region)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   region           total_pop
##   &lt;chr&gt;                &lt;int&gt;
## 1 Aleutian Islands      8840
## 2 Arctic                8419
## 3 Bristol Bay           6947
## 4 Chignik                311
## 5 Cook Inlet          408254
## 6 Copper River          2294</code></pre>
<p>And use a regular <code>left_join</code> to get the information back to the Alaska region shapefile. Note that we need this step in order to regain our region geometries so that we can make some maps.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="session-13-geospatial-analysis-in-r.html#cb204-1"></a>pop_region_<span class="dv">3338</span> &lt;-<span class="st"> </span><span class="kw">left_join</span>(ak_regions_<span class="dv">3338</span>, pop_region)</span></code></pre></div>
<pre><code>## Joining, by = &quot;region&quot;</code></pre>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="session-13-geospatial-analysis-in-r.html#cb206-1"></a><span class="co">#plot to check</span></span>
<span id="cb206-2"><a href="session-13-geospatial-analysis-in-r.html#cb206-2"></a><span class="kw">plot</span>(pop_region_<span class="dv">3338</span>[<span class="st">&quot;total_pop&quot;</span>])</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-128-1.png" width="672" /></p>
<p>So far, we have learned how to use <code>sf</code> and <code>dplyr</code> to use a spatial join on two datasets and calculate a summary metric from the result of that join.</p>
<p>The <code>group_by</code> and <code>summarize</code> functions can also be used on <code>sf</code> objects to summarize within a dataset and combine geometries. Many of the <code>tidyverse</code> functions have methods specific for <code>sf</code> objects, some of which have additional arguments that wouldn’t be relevant to the <code>data.frame</code> methods. You can run <code>?sf::tidyverse</code> to get documentation on the <code>tidyverse</code> <code>sf</code> methods.</p>
<p>Let’s try some out. Say we want to calculate the population by Alaska management area, as opposed to region.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="session-13-geospatial-analysis-in-r.html#cb207-1"></a>pop_mgmt_<span class="dv">338</span> &lt;-<span class="st"> </span>pop_region_<span class="dv">3338</span> <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb207-2"><a href="session-13-geospatial-analysis-in-r.html#cb207-2"></a><span class="st">  </span><span class="kw">group_by</span>(mgmt_area) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb207-3"><a href="session-13-geospatial-analysis-in-r.html#cb207-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">total_pop =</span> <span class="kw">sum</span>(total_pop))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="session-13-geospatial-analysis-in-r.html#cb209-1"></a><span class="kw">plot</span>(pop_mgmt_<span class="dv">338</span>[<span class="st">&quot;total_pop&quot;</span>])</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-129-1.png" width="672" /></p>
<p>Notice that the region geometries were combined into a single polygon for each management area.</p>
<p>If we don’t want to combine geometries, we can specify <code>do_union = F</code> as an argument.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="session-13-geospatial-analysis-in-r.html#cb210-1"></a>pop_mgmt_<span class="dv">3338</span> &lt;-<span class="st"> </span>pop_region_<span class="dv">3338</span> <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb210-2"><a href="session-13-geospatial-analysis-in-r.html#cb210-2"></a><span class="st">  </span><span class="kw">group_by</span>(mgmt_area) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb210-3"><a href="session-13-geospatial-analysis-in-r.html#cb210-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">total_pop =</span> <span class="kw">sum</span>(total_pop), <span class="dt">do_union =</span> F)</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="session-13-geospatial-analysis-in-r.html#cb212-1"></a><span class="kw">plot</span>(pop_mgmt_<span class="dv">3338</span>[<span class="st">&quot;total_pop&quot;</span>])</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-130-1.png" width="672" /></p>
</div>
<div id="writing-the-file" class="section level4 unnumbered" number="">
<h4>Writing the file</h4>
<p>Save the spatial object to disk using <code>write_sf()</code> and specifying the filename. Writing your file with the extension .shp will assume an ESRI driver <a href="http://www.gdal.org/ogr_formats.html">driver</a>, but there are many other format options available.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="session-13-geospatial-analysis-in-r.html#cb213-1"></a><span class="kw">write_sf</span>(pop_region_<span class="dv">3338</span>, <span class="st">&quot;shapefiles/ak_regions_population.shp&quot;</span>, <span class="dt">delete_layer =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
</div>
</div>
<div id="visualize-with-ggplot" class="section level3" number="13.1.5">
<h3><span class="header-section-number">13.1.5</span> Visualize with ggplot</h3>
<p><code>ggplot2</code> now has integrated functionality to plot sf objects using <code>geom_sf()</code>.</p>
<p>We can plot <code>sf</code> objects just like regular data.frames using <code>geom_sf</code>.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="session-13-geospatial-analysis-in-r.html#cb214-1"></a><span class="kw">ggplot</span>(pop_region_<span class="dv">3338</span>) <span class="op">+</span></span>
<span id="cb214-2"><a href="session-13-geospatial-analysis-in-r.html#cb214-2"></a><span class="st">  </span><span class="kw">geom_sf</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> total_pop)) <span class="op">+</span></span>
<span id="cb214-3"><a href="session-13-geospatial-analysis-in-r.html#cb214-3"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb214-4"><a href="session-13-geospatial-analysis-in-r.html#cb214-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&quot;Total Population&quot;</span>) <span class="op">+</span></span>
<span id="cb214-5"><a href="session-13-geospatial-analysis-in-r.html#cb214-5"></a><span class="st">  </span><span class="kw">scale_fill_continuous</span>(<span class="dt">low =</span> <span class="st">&quot;khaki&quot;</span>, <span class="dt">high =</span>  <span class="st">&quot;firebrick&quot;</span>, <span class="dt">labels =</span> comma)</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-131-1.png" width="672" /></p>
<p>We can also plot multiple shapefiles in the same plot. Say if we want to visualize rivers in Alaska, in addition to the location of communities, since many communities in Alaska are on rivers. We can read in a rivers shapefile, doublecheck the <code>crs</code> to make sure it is what we need, and then plot all three shapefiles - the regional population (polygons), the locations of cities (points), and the rivers (linestrings).</p>
<p>The rivers shapefile is a simplified version of Jared Kibele and Jeanette Clark. Rivers of Alaska grouped by SASAP region, 2018. Knowledge Network for Biocomplexity. <a href="doi:10.5063/F1SJ1HVW" class="uri">doi:10.5063/F1SJ1HVW</a>.</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="session-13-geospatial-analysis-in-r.html#cb215-1"></a>rivers_<span class="dv">3338</span> &lt;-<span class="st"> </span><span class="kw">read_sf</span>(<span class="st">&quot;shapefiles/ak_rivers_simp.shp&quot;</span>)</span>
<span id="cb215-2"><a href="session-13-geospatial-analysis-in-r.html#cb215-2"></a><span class="kw">st_crs</span>(rivers_<span class="dv">3338</span>)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   No user input
##   wkt:
## PROJCS[&quot;Albers&quot;,
##     GEOGCS[&quot;GCS_GRS 1980(IUGG, 1980)&quot;,
##         DATUM[&quot;unknown&quot;,
##             SPHEROID[&quot;GRS80&quot;,6378137,298.257222101]],
##         PRIMEM[&quot;Greenwich&quot;,0],
##         UNIT[&quot;Degree&quot;,0.017453292519943295]],
##     PROJECTION[&quot;Albers_Conic_Equal_Area&quot;],
##     PARAMETER[&quot;standard_parallel_1&quot;,55],
##     PARAMETER[&quot;standard_parallel_2&quot;,65],
##     PARAMETER[&quot;latitude_of_center&quot;,50],
##     PARAMETER[&quot;longitude_of_center&quot;,-154],
##     PARAMETER[&quot;false_easting&quot;,0],
##     PARAMETER[&quot;false_northing&quot;,0],
##     UNIT[&quot;Meter&quot;,1]]</code></pre>
<p>Note that although no EPSG code is set explicitly, with some sluething we can determine that this is <code>EPSG:3338</code>. <a href="https://epsg.io">This site</a> is helpful for looking up EPSG codes.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="session-13-geospatial-analysis-in-r.html#cb217-1"></a><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb217-2"><a href="session-13-geospatial-analysis-in-r.html#cb217-2"></a><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> pop_region_<span class="dv">3338</span>, <span class="kw">aes</span>(<span class="dt">fill =</span> total_pop)) <span class="op">+</span></span>
<span id="cb217-3"><a href="session-13-geospatial-analysis-in-r.html#cb217-3"></a><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> rivers_<span class="dv">3338</span>, <span class="kw">aes</span>(<span class="dt">size =</span> StrOrder), <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span></span>
<span id="cb217-4"><a href="session-13-geospatial-analysis-in-r.html#cb217-4"></a><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> pop_<span class="dv">3338</span>, <span class="kw">aes</span>(), <span class="dt">size =</span> <span class="fl">.5</span>) <span class="op">+</span></span>
<span id="cb217-5"><a href="session-13-geospatial-analysis-in-r.html#cb217-5"></a><span class="st">  </span><span class="kw">scale_size</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="fl">0.01</span>, <span class="fl">0.2</span>), <span class="dt">guide =</span> F) <span class="op">+</span></span>
<span id="cb217-6"><a href="session-13-geospatial-analysis-in-r.html#cb217-6"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb217-7"><a href="session-13-geospatial-analysis-in-r.html#cb217-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&quot;Total Population&quot;</span>) <span class="op">+</span></span>
<span id="cb217-8"><a href="session-13-geospatial-analysis-in-r.html#cb217-8"></a><span class="st">  </span><span class="kw">scale_fill_continuous</span>(<span class="dt">low =</span> <span class="st">&quot;khaki&quot;</span>, <span class="dt">high =</span>  <span class="st">&quot;firebrick&quot;</span>, <span class="dt">labels =</span> comma)</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-134-1.png" width="672" /></p>
<div id="incorporate-base-maps-into-static-maps-using-ggmap" class="section level4 unnumbered" number="">
<h4>Incorporate base maps into static maps using <code>ggmap</code></h4>
<p>The <code>ggmap</code> package has some functions that can render base maps (as raster objects) from open tile servers like Google Maps, Stamen, OpenStreetMap, and others.</p>
<p>We’ll need to transform our shapefile with population data by community to <code>EPSG:3857</code> which is the CRS used for rendering maps in Google Maps, Stamen, and OpenStreetMap, among others.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="session-13-geospatial-analysis-in-r.html#cb218-1"></a>pop_<span class="dv">3857</span> &lt;-<span class="st"> </span>pop_<span class="dv">3338</span> <span class="op">%&gt;%</span></span>
<span id="cb218-2"><a href="session-13-geospatial-analysis-in-r.html#cb218-2"></a><span class="st">  </span><span class="kw">st_transform</span>(<span class="dt">crs =</span> <span class="dv">3857</span>)</span></code></pre></div>
<p>Next, let’s grab a base map from the Stamen map tile server covering the region of interest.
First we include a function that transforms the bounding box (which starts in <code>EPSG:4326</code>) to also be in the <code>EPSG:3857</code> CRS, which is the projection that the map raster is returned in from Stamen. This is an issue with <code>ggmap</code> described in more detail <a href="https://github.com/dkahle/ggmap/issues/160#issuecomment-397055208">here</a></p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="session-13-geospatial-analysis-in-r.html#cb219-1"></a><span class="co"># Define a function to fix the bbox to be in EPSG:3857</span></span>
<span id="cb219-2"><a href="session-13-geospatial-analysis-in-r.html#cb219-2"></a><span class="co"># See https://github.com/dkahle/ggmap/issues/160#issuecomment-397055208</span></span>
<span id="cb219-3"><a href="session-13-geospatial-analysis-in-r.html#cb219-3"></a>ggmap_bbox_to_<span class="dv">3857</span> &lt;-<span class="st"> </span><span class="cf">function</span>(map) {</span>
<span id="cb219-4"><a href="session-13-geospatial-analysis-in-r.html#cb219-4"></a>  <span class="cf">if</span> (<span class="op">!</span><span class="kw">inherits</span>(map, <span class="st">&quot;ggmap&quot;</span>)) <span class="kw">stop</span>(<span class="st">&quot;map must be a ggmap object&quot;</span>)</span>
<span id="cb219-5"><a href="session-13-geospatial-analysis-in-r.html#cb219-5"></a>  <span class="co"># Extract the bounding box (in lat/lon) from the ggmap to a numeric vector, </span></span>
<span id="cb219-6"><a href="session-13-geospatial-analysis-in-r.html#cb219-6"></a>  <span class="co"># and set the names to what sf::st_bbox expects:</span></span>
<span id="cb219-7"><a href="session-13-geospatial-analysis-in-r.html#cb219-7"></a>  map_bbox &lt;-<span class="st"> </span><span class="kw">setNames</span>(<span class="kw">unlist</span>(<span class="kw">attr</span>(map, <span class="st">&quot;bb&quot;</span>)), </span>
<span id="cb219-8"><a href="session-13-geospatial-analysis-in-r.html#cb219-8"></a>                       <span class="kw">c</span>(<span class="st">&quot;ymin&quot;</span>, <span class="st">&quot;xmin&quot;</span>, <span class="st">&quot;ymax&quot;</span>, <span class="st">&quot;xmax&quot;</span>))</span>
<span id="cb219-9"><a href="session-13-geospatial-analysis-in-r.html#cb219-9"></a>  </span>
<span id="cb219-10"><a href="session-13-geospatial-analysis-in-r.html#cb219-10"></a>  <span class="co"># Coonvert the bbox to an sf polygon, transform it to 3857, </span></span>
<span id="cb219-11"><a href="session-13-geospatial-analysis-in-r.html#cb219-11"></a>  <span class="co"># and convert back to a bbox (convoluted, but it works)</span></span>
<span id="cb219-12"><a href="session-13-geospatial-analysis-in-r.html#cb219-12"></a>  bbox_<span class="dv">3857</span> &lt;-<span class="st"> </span><span class="kw">st_bbox</span>(<span class="kw">st_transform</span>(<span class="kw">st_as_sfc</span>(<span class="kw">st_bbox</span>(map_bbox, <span class="dt">crs =</span> <span class="dv">4326</span>)), <span class="dv">3857</span>))</span>
<span id="cb219-13"><a href="session-13-geospatial-analysis-in-r.html#cb219-13"></a>  </span>
<span id="cb219-14"><a href="session-13-geospatial-analysis-in-r.html#cb219-14"></a>  <span class="co"># Overwrite the bbox of the ggmap object with the transformed coordinates </span></span>
<span id="cb219-15"><a href="session-13-geospatial-analysis-in-r.html#cb219-15"></a>  <span class="kw">attr</span>(map, <span class="st">&quot;bb&quot;</span>)<span class="op">$</span>ll.lat &lt;-<span class="st"> </span>bbox_<span class="dv">3857</span>[<span class="st">&quot;ymin&quot;</span>]</span>
<span id="cb219-16"><a href="session-13-geospatial-analysis-in-r.html#cb219-16"></a>  <span class="kw">attr</span>(map, <span class="st">&quot;bb&quot;</span>)<span class="op">$</span>ll.lon &lt;-<span class="st"> </span>bbox_<span class="dv">3857</span>[<span class="st">&quot;xmin&quot;</span>]</span>
<span id="cb219-17"><a href="session-13-geospatial-analysis-in-r.html#cb219-17"></a>  <span class="kw">attr</span>(map, <span class="st">&quot;bb&quot;</span>)<span class="op">$</span>ur.lat &lt;-<span class="st"> </span>bbox_<span class="dv">3857</span>[<span class="st">&quot;ymax&quot;</span>]</span>
<span id="cb219-18"><a href="session-13-geospatial-analysis-in-r.html#cb219-18"></a>  <span class="kw">attr</span>(map, <span class="st">&quot;bb&quot;</span>)<span class="op">$</span>ur.lon &lt;-<span class="st"> </span>bbox_<span class="dv">3857</span>[<span class="st">&quot;xmax&quot;</span>]</span>
<span id="cb219-19"><a href="session-13-geospatial-analysis-in-r.html#cb219-19"></a>  map</span>
<span id="cb219-20"><a href="session-13-geospatial-analysis-in-r.html#cb219-20"></a>}</span></code></pre></div>
<p>Next, we define the bounding box of interest, and use <code>get_stamenmap()</code> to get the basemap. Then we run our function defined above on the result of the <code>get_stamenmap()</code> call.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="session-13-geospatial-analysis-in-r.html#cb220-1"></a>bbox &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">170</span>, <span class="dv">52</span>, <span class="dv">-130</span>, <span class="dv">64</span>)   <span class="co"># This is roughly southern Alaska</span></span>
<span id="cb220-2"><a href="session-13-geospatial-analysis-in-r.html#cb220-2"></a>ak_map &lt;-<span class="st"> </span><span class="kw">get_stamenmap</span>(bbox, <span class="dt">zoom =</span> <span class="dv">4</span>)</span>
<span id="cb220-3"><a href="session-13-geospatial-analysis-in-r.html#cb220-3"></a>ak_map_<span class="dv">3857</span> &lt;-<span class="st"> </span><span class="kw">ggmap_bbox_to_3857</span>(ak_map)</span></code></pre></div>
<p>Finally, plot both the base raster map with the population data overlayed, which is easy now that everything is in the same projection (3857):</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="session-13-geospatial-analysis-in-r.html#cb221-1"></a><span class="kw">ggmap</span>(ak_map_<span class="dv">3857</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb221-2"><a href="session-13-geospatial-analysis-in-r.html#cb221-2"></a><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> pop_<span class="dv">3857</span>, <span class="kw">aes</span>(<span class="dt">color =</span> population), <span class="dt">inherit.aes =</span> F) <span class="op">+</span></span>
<span id="cb221-3"><a href="session-13-geospatial-analysis-in-r.html#cb221-3"></a><span class="st">  </span><span class="kw">scale_color_continuous</span>(<span class="dt">low =</span> <span class="st">&quot;khaki&quot;</span>, <span class="dt">high =</span>  <span class="st">&quot;firebrick&quot;</span>, <span class="dt">labels =</span> comma)</span></code></pre></div>
<p><img src="reproducible-research-short-course_files/figure-html/unnamed-chunk-138-1.png" width="672" /></p>
</div>
</div>
<div id="visualize-sf-objects-with-leaflet" class="section level3" number="13.1.6">
<h3><span class="header-section-number">13.1.6</span> Visualize <code>sf</code> objects with leaflet</h3>
<p>We can also make an interactive map from our data above using <code>leaflet</code>.</p>
<p>Leaflet (unlike ggplot) will project data for you. The catch is that you have to give it both a projection (like Alaska Albers), and that your shapefile must use a geographic coordinate system. This means that we need to use our shapefile with the 4326 EPSG code. Remember you can always check what <code>crs</code> you have set using <code>st_crs</code>.</p>
<p>Here we define a leaflet projection for Alaska Albers, and save it as a variable to use later.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="session-13-geospatial-analysis-in-r.html#cb222-1"></a>epsg3338 &lt;-<span class="st"> </span>leaflet<span class="op">::</span><span class="kw">leafletCRS</span>(</span>
<span id="cb222-2"><a href="session-13-geospatial-analysis-in-r.html#cb222-2"></a>  <span class="dt">crsClass =</span> <span class="st">&quot;L.Proj.CRS&quot;</span>,</span>
<span id="cb222-3"><a href="session-13-geospatial-analysis-in-r.html#cb222-3"></a>  <span class="dt">code =</span> <span class="st">&quot;EPSG:3338&quot;</span>,</span>
<span id="cb222-4"><a href="session-13-geospatial-analysis-in-r.html#cb222-4"></a>  <span class="dt">proj4def =</span>  <span class="st">&quot;+proj=aea +lat_1=55 +lat_2=65 +lat_0=50 +lon_0=-154 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs&quot;</span>,</span>
<span id="cb222-5"><a href="session-13-geospatial-analysis-in-r.html#cb222-5"></a>  <span class="dt">resolutions =</span> <span class="dv">2</span><span class="op">^</span>(<span class="dv">16</span><span class="op">:</span><span class="dv">7</span>))</span></code></pre></div>
<p>You might notice that this looks familiar! The syntax is a bit different, but most of this information is also contained within the <code>crs</code> of our shapefile:</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="session-13-geospatial-analysis-in-r.html#cb223-1"></a><span class="kw">st_crs</span>(pop_region_<span class="dv">3338</span>)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: EPSG:3338 
##   wkt:
## PROJCS[&quot;NAD83 / Alaska Albers&quot;,
##     GEOGCS[&quot;NAD83&quot;,
##         DATUM[&quot;North_American_Datum_1983&quot;,
##             SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,
##                 AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],
##             TOWGS84[0,0,0,0,0,0,0],
##             AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],
##         PRIMEM[&quot;Greenwich&quot;,0,
##             AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],
##         UNIT[&quot;degree&quot;,0.0174532925199433,
##             AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],
##         AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],
##     PROJECTION[&quot;Albers_Conic_Equal_Area&quot;],
##     PARAMETER[&quot;standard_parallel_1&quot;,55],
##     PARAMETER[&quot;standard_parallel_2&quot;,65],
##     PARAMETER[&quot;latitude_of_center&quot;,50],
##     PARAMETER[&quot;longitude_of_center&quot;,-154],
##     PARAMETER[&quot;false_easting&quot;,0],
##     PARAMETER[&quot;false_northing&quot;,0],
##     UNIT[&quot;metre&quot;,1,
##         AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],
##     AXIS[&quot;X&quot;,EAST],
##     AXIS[&quot;Y&quot;,NORTH],
##     AUTHORITY[&quot;EPSG&quot;,&quot;3338&quot;]]</code></pre>
<p>Since <code>leaflet</code> requires that we use an unprojected coordinate system, let’s use <code>st_transform</code> yet again to get back to WGS84.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="session-13-geospatial-analysis-in-r.html#cb225-1"></a>pop_region_<span class="dv">4326</span> &lt;-<span class="st"> </span>pop_region_<span class="dv">3338</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">st_transform</span>(<span class="dt">crs =</span> <span class="dv">4326</span>)</span></code></pre></div>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="session-13-geospatial-analysis-in-r.html#cb226-1"></a>m &lt;-<span class="st"> </span><span class="kw">leaflet</span>(<span class="dt">options =</span> <span class="kw">leafletOptions</span>(<span class="dt">crs =</span> epsg3338)) <span class="op">%&gt;%</span></span>
<span id="cb226-2"><a href="session-13-geospatial-analysis-in-r.html#cb226-2"></a><span class="st">        </span><span class="kw">addPolygons</span>(<span class="dt">data =</span> pop_region_<span class="dv">4326</span>, </span>
<span id="cb226-3"><a href="session-13-geospatial-analysis-in-r.html#cb226-3"></a>                    <span class="dt">fillColor =</span> <span class="st">&quot;gray&quot;</span>,</span>
<span id="cb226-4"><a href="session-13-geospatial-analysis-in-r.html#cb226-4"></a>                    <span class="dt">weight =</span> <span class="dv">1</span>)</span>
<span id="cb226-5"><a href="session-13-geospatial-analysis-in-r.html#cb226-5"></a></span>
<span id="cb226-6"><a href="session-13-geospatial-analysis-in-r.html#cb226-6"></a>m</span></code></pre></div>
<p>We can add labels, legends, and a color scale.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="session-13-geospatial-analysis-in-r.html#cb227-1"></a>pal &lt;-<span class="st"> </span><span class="kw">colorNumeric</span>(<span class="dt">palette =</span> <span class="st">&quot;Reds&quot;</span>, <span class="dt">domain =</span> pop_region_<span class="dv">4326</span><span class="op">$</span>total_pop)</span>
<span id="cb227-2"><a href="session-13-geospatial-analysis-in-r.html#cb227-2"></a></span>
<span id="cb227-3"><a href="session-13-geospatial-analysis-in-r.html#cb227-3"></a>m &lt;-<span class="st"> </span><span class="kw">leaflet</span>(<span class="dt">options =</span> <span class="kw">leafletOptions</span>(<span class="dt">crs =</span> epsg3338)) <span class="op">%&gt;%</span></span>
<span id="cb227-4"><a href="session-13-geospatial-analysis-in-r.html#cb227-4"></a><span class="st">        </span><span class="kw">addPolygons</span>(<span class="dt">data =</span> pop_region_<span class="dv">4326</span>, </span>
<span id="cb227-5"><a href="session-13-geospatial-analysis-in-r.html#cb227-5"></a>                    <span class="dt">fillColor =</span> <span class="op">~</span><span class="kw">pal</span>(total_pop),</span>
<span id="cb227-6"><a href="session-13-geospatial-analysis-in-r.html#cb227-6"></a>                    <span class="dt">weight =</span> <span class="dv">1</span>,</span>
<span id="cb227-7"><a href="session-13-geospatial-analysis-in-r.html#cb227-7"></a>                    <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb227-8"><a href="session-13-geospatial-analysis-in-r.html#cb227-8"></a>                    <span class="dt">fillOpacity =</span> <span class="dv">1</span>,</span>
<span id="cb227-9"><a href="session-13-geospatial-analysis-in-r.html#cb227-9"></a>                    <span class="dt">label =</span> <span class="op">~</span>region) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb227-10"><a href="session-13-geospatial-analysis-in-r.html#cb227-10"></a><span class="st">        </span><span class="kw">addLegend</span>(<span class="dt">position =</span> <span class="st">&quot;bottomleft&quot;</span>,</span>
<span id="cb227-11"><a href="session-13-geospatial-analysis-in-r.html#cb227-11"></a>                  <span class="dt">pal =</span> pal,</span>
<span id="cb227-12"><a href="session-13-geospatial-analysis-in-r.html#cb227-12"></a>                  <span class="dt">values =</span> <span class="kw">range</span>(pop_region_<span class="dv">4326</span><span class="op">$</span>total_pop),</span>
<span id="cb227-13"><a href="session-13-geospatial-analysis-in-r.html#cb227-13"></a>                  <span class="dt">title =</span> <span class="st">&quot;Total Population&quot;</span>)</span>
<span id="cb227-14"><a href="session-13-geospatial-analysis-in-r.html#cb227-14"></a></span>
<span id="cb227-15"><a href="session-13-geospatial-analysis-in-r.html#cb227-15"></a>m</span></code></pre></div>
<p>We can also add the individual communities, with popup labels showing their population, on top of that!</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="session-13-geospatial-analysis-in-r.html#cb228-1"></a>pal &lt;-<span class="st"> </span><span class="kw">colorNumeric</span>(<span class="dt">palette =</span> <span class="st">&quot;Reds&quot;</span>, <span class="dt">domain =</span> pop_region_<span class="dv">4326</span><span class="op">$</span>total_pop)</span>
<span id="cb228-2"><a href="session-13-geospatial-analysis-in-r.html#cb228-2"></a></span>
<span id="cb228-3"><a href="session-13-geospatial-analysis-in-r.html#cb228-3"></a>m &lt;-<span class="st"> </span><span class="kw">leaflet</span>(<span class="dt">options =</span> <span class="kw">leafletOptions</span>(<span class="dt">crs =</span> epsg3338)) <span class="op">%&gt;%</span></span>
<span id="cb228-4"><a href="session-13-geospatial-analysis-in-r.html#cb228-4"></a><span class="st">        </span><span class="kw">addPolygons</span>(<span class="dt">data =</span> pop_region_<span class="dv">4326</span>, </span>
<span id="cb228-5"><a href="session-13-geospatial-analysis-in-r.html#cb228-5"></a>                    <span class="dt">fillColor =</span> <span class="op">~</span><span class="kw">pal</span>(total_pop),</span>
<span id="cb228-6"><a href="session-13-geospatial-analysis-in-r.html#cb228-6"></a>                    <span class="dt">weight =</span> <span class="dv">1</span>,</span>
<span id="cb228-7"><a href="session-13-geospatial-analysis-in-r.html#cb228-7"></a>                    <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb228-8"><a href="session-13-geospatial-analysis-in-r.html#cb228-8"></a>                    <span class="dt">fillOpacity =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb228-9"><a href="session-13-geospatial-analysis-in-r.html#cb228-9"></a><span class="st">        </span><span class="kw">addCircleMarkers</span>(<span class="dt">data =</span> pop_<span class="dv">4326</span>,</span>
<span id="cb228-10"><a href="session-13-geospatial-analysis-in-r.html#cb228-10"></a>                         <span class="dt">lat =</span> <span class="op">~</span>lat,</span>
<span id="cb228-11"><a href="session-13-geospatial-analysis-in-r.html#cb228-11"></a>                         <span class="dt">lng =</span> <span class="op">~</span>lng,</span>
<span id="cb228-12"><a href="session-13-geospatial-analysis-in-r.html#cb228-12"></a>                         <span class="dt">radius =</span> <span class="op">~</span><span class="kw">log</span>(population<span class="op">/</span><span class="dv">500</span>), <span class="co"># arbitrary scaling</span></span>
<span id="cb228-13"><a href="session-13-geospatial-analysis-in-r.html#cb228-13"></a>                         <span class="dt">fillColor =</span> <span class="st">&quot;gray&quot;</span>,</span>
<span id="cb228-14"><a href="session-13-geospatial-analysis-in-r.html#cb228-14"></a>                         <span class="dt">fillOpacity =</span> <span class="dv">1</span>,</span>
<span id="cb228-15"><a href="session-13-geospatial-analysis-in-r.html#cb228-15"></a>                         <span class="dt">weight =</span> <span class="fl">0.25</span>,</span>
<span id="cb228-16"><a href="session-13-geospatial-analysis-in-r.html#cb228-16"></a>                         <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb228-17"><a href="session-13-geospatial-analysis-in-r.html#cb228-17"></a>                         <span class="dt">label =</span> <span class="op">~</span><span class="kw">paste0</span>(pop_<span class="dv">4326</span><span class="op">$</span>city, <span class="st">&quot;, population &quot;</span>, <span class="kw">comma</span>(pop_<span class="dv">4326</span><span class="op">$</span>population))) <span class="op">%&gt;%</span></span>
<span id="cb228-18"><a href="session-13-geospatial-analysis-in-r.html#cb228-18"></a><span class="st">        </span><span class="kw">addLegend</span>(<span class="dt">position =</span> <span class="st">&quot;bottomleft&quot;</span>,</span>
<span id="cb228-19"><a href="session-13-geospatial-analysis-in-r.html#cb228-19"></a>                  <span class="dt">pal =</span> pal,</span>
<span id="cb228-20"><a href="session-13-geospatial-analysis-in-r.html#cb228-20"></a>                  <span class="dt">values =</span> <span class="kw">range</span>(pop_region_<span class="dv">4326</span><span class="op">$</span>total_pop),</span>
<span id="cb228-21"><a href="session-13-geospatial-analysis-in-r.html#cb228-21"></a>                  <span class="dt">title =</span> <span class="st">&quot;Total Population&quot;</span>)</span>
<span id="cb228-22"><a href="session-13-geospatial-analysis-in-r.html#cb228-22"></a></span>
<span id="cb228-23"><a href="session-13-geospatial-analysis-in-r.html#cb228-23"></a>m</span></code></pre></div>
<p>There is a lot more functionality to <code>sf</code> including the ability to <code>intersect</code> polygons, calculate <code>distance</code>, create a <code>buffer</code>, and more. Here are some more great resources and tutorials for a deeper dive into this great package:</p>
<p><a href="http://jafflerbach.github.io/spatial-analysis-R/intro_spatial_data_R.html">Raster analysis in R</a><br />
<a href="https://cdn.rawgit.com/rhodyrstats/geospatial_with_sf/bc2b17cf/geospatial_with_sf.html">Spatial analysis in R with the sf package</a><br />
<a href="https://cdn.rawgit.com/Nowosad/Intro_to_spatial_analysis/05676e29/Intro_to_spatial_analysis.html#1">Intro to Spatial Analysis</a><br />
<a href="https://github.com/r-spatial/sf">sf github repo</a><br />
<a href="http://strimas.com/r/tidy-sf/">Tidy spatial data in R: using dplyr, tidyr, and ggplot2 with sf</a><br />
<a href="https://rud.is/b/2017/09/18/mapping-fall-foliage-with-sf/">mapping-fall-foliage-with-sf</a></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="session-12-exercise-cleaning-and-manipulating-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="session-14-reproducibility-and-provenance.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
